
================================================================================
ドキュメント: (No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成_エビデンス_V2.pdf (PDF 1)
ファイル名: (No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成_エビデンス_V2.pdf
================================================================================

1
1-1
1-2
1-3
2

2-1
2-2

2-3

3

3-1-1

3-1-1-1

3-1-1-2

3-1-2-2

3-2

3-2-1

3-2-1-1

3-2-1-2

3-2-2

3-2-2-1

3-2-2-2

3-2-3

3-2-3-1

3-2-3-2

3-2-4

3-2-4-1

3-2-4-2

システム名

機能名

f013カタログ部品データ作成

サブグループ別部品情報リストDOMファイルレコード生成

■エビデンスケースＮｏ

№パターン№

　入力値あるいは操作
ツール起動
起動時のパラメータ確認
データベース接続
配置ファイル存在チェック
現在のプログラムで実行されている LineageId の特定および設定内容のチェック
※起動時のパラメータ

　期待される結果
結果
テストコード
なし
無事に起動できること
なし
無事に起動できること
なし
無事に起動できること

-n：market-vehicle-data
-w：workflow-01m0013p001004-znp7k-c7r4k
プロセスIDとタスクIDをもとにリネージ情報を取得
専用プラグインのチェック

ファイルパスのチェック

データファイル(DOM)からデータ加工（専用ブラグイン経由）

※起動時のパラメータ

-n：market-vehicle-data
-w：workflow-01m0013p001004-znp7k-c7r4k

前処理 (Before)

なし
なし
なし

部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである
部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである
部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである

3-1

リネージ設定情報および入力ファイルチェック

lineageID: 130021

「リソース管理」テーブルに、当リネージが使ってるリソースの設定情報チェック
    必須項目のチェック：文字コード（code_page）
文字コード（code_page）が設定の場合

確認事項なく、引き続き処理

文字コード（code_page）が未設定の場合  ※システム系エラー（エラーハンドリングと関係ない）

なし

なし

ExitCode：255
異常終了
コンソールログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-1-1-2 を参照。

3-1-2

InputスキーマYamlに、下記の項目は必須です

  列「f013_car_model」
  列「f013_car_model_classification_code」
  列「f013_main_group_code」
  列「f013_sub_group_code」
  列「f013_fig_illust_disp_no」
  列「f013_subgrp_parts_list_dom_content」
    InputスキーマYamlに、必須項目存在チェック

3-1-2-1

必須項目「項目ID（item_id）」が 入力スキーマに存在する場合

なし

確認事項なく、引き続き処理

必須項目「項目ID（item_id）」が 入力スキーマに存在しない場合   ※システム系エラー（エラーハンドリングと関係ない）

ExitCode：253

なし

異常終了

コンソールログ出力

実施結果

※　テスト結果を詳細に記載出来ない　または　ハードコピーなどが
　ある場合はシートを追加し、資料列にシート名を記載します。

１回目
判定 実施日

２回目
担当 判定 実施日

担当

(No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成.xlsxエビデンス

-

ExitCode：255
異常終了

-

-

-

OK 2025/11/3

TH.尚

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
当リネージID「130021」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-1-1-2 を参照。

-

exitCode：253

異常終了

-

-

-

NG 2025/11/3

TH.尚OK 2025/11/3 TH.尚

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
リソース管理テーブルにて、リネージID「130021」で指定されたスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須列「f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」が存在しません。ご確認ください。
当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
リソース管理テーブルにて、リネージID「130021」で指定されたスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須列「f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」が存在しません。ご確認ください。
当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
リソース管理テーブルにて、リネージID「130021」で指定されたスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須列「f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」が存在しません。ご確認ください。
当リネージID「130021」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」に、必須項目「f013_car_model, f013_car_model_classification_code, f013_main_group_code, f013_sub_group_code, f013_fig_illust_disp_no, f013_subgrp_parts_list_dom_content」がないです。

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-1-2-2 を参照。

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-1-2-2 を参照。

DOMファイルパスのチェック

命名規則内のマクロ変数の存在チェック
命名規則内のマクロ変数が存在する

なし

確認事項なく、引き続き処理

f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html

命名規則内のマクロ変数が存在しない

確認事項なく、引き続き処理
f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html

なし

入力ファイル命名規則に必須のマクロ変数が含まれているかのチェック

ファイルのフルパスにマクロ変数の対応値が存在する なし

確認事項なく、引き続き処理

ファイルのフルパスにマクロ変数の対応値が存在しない    ※システム系エラー（エラーハンドリングと関係ない）

なし
 DOMファイル:f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html

ExitCode：252

異常終了

コンソールログ出力

-

-

-

ExitCode：252

異常終了

-

-

-

-

-

-

-

-

-

OK 2025/11/3

TH.尚

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

 (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

ログ内容：当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html」に必須マクロ変数「!FS_CAR_MODEL!」がないです。

当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html」に必須マクロ変数「!FS_CAR_MODEL!」がないです。

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

ログ内容：当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.htmlに必須マクロ変数「!FS_CAR_MODEL!」がないです。

当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html」に必須マクロ変数「!FS_CAR_MODEL!」がないです。

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

 (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )

ログ内容：当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html」に必須マクロ変数「!FS_CAR_MODEL!」がないです。

当リネージID「130021」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「f013_f0002_!BL_CATALOG_NO!_!FS_CAR_MODEL!_!FS_CAR_NAME_CD!_!FS_CAR_MODEL_CLSSFN!_!FS_MAINGRP_CD!_!FS_SUBGRP_CD!_!ILLUST_DISP_NO!_parts_!ACQUISITION_YYYYMMDD!_ver0001.html」に必須マクロ変数「!FS_CAR_MODEL!」がないです。

入力ファイルの存在チェック

入力ファイルが存在する

なし

確認事項なく、引き続き処理

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-3-2 を参照。

入力ファイルが存在しない   ※システム系エラー（エラーハンドリングと関係ない）
    DOMファイル:f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_03_parts_20250101_ver0001.html

なし

ExitCode：245
異常終了
コンソールログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-2-2 を参照。

-

-

-

-

OK 2025/11/3

TH.尚

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容： 対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が見つかりません。

DOMファイル 0 バイトチェック
    0バイト以上の場合

なし

確認事項なく、引き続き処理

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-4-2 を参照。

    0バイトの DOMファイルの場合

  ※累積処理　ファイルの中身異常（エラーハンドリングと関係ない）

ExitCode：243

なし

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-3-2 を参照。

-

-

-

-

OK 2025/11/3

TH.尚

異常終了
コンソールログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-5-2 を参照。

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-2-4-2 を参照。

本処理 (Main)

3-3

DOMファイルの読み取りおよびInputスキーマ構造データの構築

3-3-1

指定列の値設定(使用データ:Case 3-2 の「DOMファイル」を参照)なし
    DOMファイル名から

シート「使用データ 」Case 3-3 の「期待結果」を参照（※テストCodeを利用して検証）

シート「使用データ 」Case 3-3 の「期待結果」を参照

OK 2025/11/3

TH.尚

列「f013_car_model」
列「f013_car_model_classification_code」
列「f013_main_group_code」
列「f013_sub_group_code」

Copyright(c) 2014 Broadleaf Co.,Ltd.

PTE-010-23.システムテスト仕様書

列「f013_fig_illust_disp_no」

    DOMファイル内容から

列「f013_subgrp_parts_list_dom_content」

3-3-2

3-3-2-1

3-3-2-1-1

異常ケースあり、エラーログを出し

読み取りに失敗
※存在しない文字コードを設定する
loglevel: release

なし

ExitCode：255
異常終了
コンソールログ出力

(No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成.xlsxエビデンス

OK 2025/11/3

TH.尚

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

3-3-2-1-2

loglevel: debug

なし

ExitCode：255
異常終了
コンソールログ出力

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-3-2-1 を参照。

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-3-2-1-1 を参照。

OK 2025/11/3

TH.尚

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

ローカルログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

クラウドログ出力

ログタイトル： (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId:
utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

データリネージ実行ログ出力

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-3-2-1 を参照。

レコードの読み取りと保存（予期せぬ異常を確認）

成功した場合

失敗した場合

なし

確認事項なく、引き続き処理

・エラーハンドリング　を「resume」に設定する あり

3-4-2-2

・エラーハンドリング　を「skip」に設定する あり

3-4-2-3

・エラーハンドリング　を「terminate」に設定するあり

ExitCode：255
異常終了、Parquetファイルが生成されない

ExitCode：124
空のParquetファイルが生成される

ExitCode：124
空のParquetファイルが生成される

後処理 (After)

正常・異常戻り値の確認
正常完了

異常終了

0バイトのファイル

命名規則に必須マクロ変数がない

あり

あり

正常の ExitCode：0が返されます。
ログ内容： 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。

エラーの ExitCode が返されます。

データコンバート : レコードのカラム毎に操作

データ型変換
データの長さチェック

Parquetファイルの作成

Parquetファイル出力

なし
なし

部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである
部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである

Path + Nameはどこで、何の設定どおりで作成できたこと

3-4

3-4-1

3-4-2

3-4-2-1

3-5

3-5-1

3-5-2

4

4-1

4-2

5

5-1

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 3-3-2-1-2 を参照。

-

-

-

-

ExitCode：113
空のParquetファイルが生成される

ExitCode：113
空のParquetファイルが生成される

OK 2025/11/3

TH.尚

OK 2025/11/3

TH.尚

OK 2025/11/3

TH.尚

0

OK 2025/11/4

TH.尚

OK 2025/11/4

TH.尚

ExitCode：243
メッセージ内容：対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。
ExitCode：252
メッセージ内容：対象データファイル「gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

243

252

最終結果の確認 (使用データ:Case 5-1 の「DOMファイル」を参照)

5-1-1

    ファイルのフルパス確認

フルパス

5-1-2

    ファイル内容の確認

        DOMファイル名から

なし

なし

チェック内容は、「使用データ 」シートのCase 5-1 の「期待結果」を参照する
gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet

「使用データ 」シートのCase 5-1 の「期待結果」を参照する
gs://b144-cloud-storage-yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet

OK 2025/11/3

TH.尚

シート「使用データ 」Case 5-1 の「期待結果」を参照(※Parquetファイルの確認)

OK 2025/11/3

TH.尚

列「f013_car_model」
列「f013_car_model_classification_code」
列「f013_main_group_code」
列「f013_sub_group_code」
列「f013_fig_illust_disp_no」

FDA60
B21S003
11
11.110
1

        DOMファイル内容から

FDA60
B21S003
11
11
1

列「f013_subgrp_parts_list_dom_content」

<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>PC_Resultpg</title><link rel="shortcut icon" href="/images/faviconnew.ico" type="image/x-icon"><link rel="icon" href="data:image/x-icon;," type="image/x-icon"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content=""></head><body class=""><input name="__RequestVerificationToken" type="hidden" value="CfDJ8HHtrUGMkLBBi-zK-SNZl5JBiK7OVFb990G-yBKGak_0xLbQjCV0JSLLvwGlL-cai2zcgWLMBobZr-d9Xb_e-NGVY1tHVDLYraj6GX6iqEWM7ZNy41iTuDRAfDs_mbU_KX7q2KKcgIKsdQY07iKNyIMINY_R2ZOp66tB8fo1-DL3SNR2ps24oUe4BsJdR5tEcA"><div class="loder-container d-none"><div class="center"><div class="logo-container"></div></div></div><input type="hidden" id="layhdsharepath" value="https://XXXXXXXXX.blob.core.windows.net/&amp;&amp;&amp;&amp;&amp;/FAFS/PDFjs/xxx/viewer.html?file=../../Artfiles/"><div id="divSessionDebug" style="display: none;"><span id="ExtendTime"></span> /

<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>PC_Resultpg</title><link rel="shortcut icon" href="/images/faviconnew.ico" type="image/x-icon"><link rel="icon" href="data:image/x-icon;," type="image/x-icon"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content=""></head><body class=""><input name="__RequestVerificationToken" type="hidden" value="CfDJ8HHtrUGMkLBBi-zK-SNZl5JBiK7OVFb990G-yBKGak_0xLbQjCV0JSLLvwGlL-cai2zcgWLMBobZr-d9Xb_e-NGVY1tHVDLYraj6GX6iqEWM7ZNy41iTuDRAfDs_mbU_KX7q2KKcgIKsdQY07iKNyIMINY_R2ZOp66tB8fo1-DL3SNR2ps24oUe4BsJdR5tEcA"><div class="loder-container d-none"><div class="center"><div class="logo-container"></div></div></div><input type="hidden" id="layhdsharepath" value="https://XXXXXXXXX.blob.core.windows.net/&amp;&amp;&amp;&amp;&amp;/FAFS/PDFjs/xxx/viewer.html?file=../../Artfiles/"><div id="divSessionDebug" style="display: none;"><span id="ExtendTime"></span> /

5-1-3

    性能確認

なし

大容量DOMファイルを用いた性能検証(Size: 10MB)

メモリ使用量
CPU 使用量
実行時間

500M内
0.5内
30s内

6

6-1

全体の正常系ログの出力確認

出力メッセージ種別確認(loglevel:realse)

コンソールログ出力

なし

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始します...
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力レコード件数: 1

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」が正常完了しました。

ローカルログ出力

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...

クラウドログ出力

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始します...
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力レコード件数: 1

[情報    ] (NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」が正常完了しました。

(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始します...
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力レコード件数: 1
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
(NameSpace: market-vehicle-data-realse WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」が正常完了しました。

データリネージ実行ログ出力

・データリネージ実行ログテーブル：
       データリネージ実行ログ：シート「データリネージ実行ログ」の Case 6-1 を参照。

458 M
0.3
21s

OK 2025/11/3

TH.尚

OK

2025/11/3

TH.尚

[2025-11-03 19:32:26] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
[2025-11-03 19:32:27]
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始
します...
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
正常件数：1
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
[2025-11-03 19:32:26] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
[2025-11-03 19:32:27]
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始
します...
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
正常件数：1
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
[2025-11-03 19:32:26] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
[2025-11-03 19:32:27]
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
[2025-11-03 19:32:28] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始
します...
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
正常件数：1
[2025-11-03 19:32:30] [情報    ] (NameSpace: market-vehicle-data-realse
データリネージ実行ログ：シート「データリネージ実行ログ」の Case 6-2 を参照。

6-2

出力メッセージ種別確認(loglevel:debug)

なし

OK 2025/11/3

TH.尚

Copyright(c) 2014 Broadleaf Co.,Ltd.

PTE-010-23.システムテスト仕様書

(No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成.xlsxエビデンス

コンソールログ出力

[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...

ローカルログ出力

クラウドログ出力

[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 転記仕様のYAMLファイル「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 前処理Before()メソッド呼出し
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 前処理(Beforeメソッド) 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 引数(JSON)内容の解析
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 指定のInputスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」
のチェック 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) サブグループ別部品情報リストDOMファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」のファイルチェック 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 本処理Main()メソッド呼出し
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 本処理(Mainメソッド) 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 後処理After()メソッド呼出し
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 後処理(Afterメソッド) 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」ファイルを
解析し、標準転記の表現式を取得します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_acm.yaml」ファイルを
解析し、標準転記の表現式を取得します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) データレコードのコンバート完了、出力ファイルに「1」件のレコードを追加。
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...

[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 転記仕様のYAMLファイル「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 前処理Before()メソッド呼出し
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 前処理(Beforeメソッド) 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 引数(JSON)内容の解析
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 指定のInputスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」
のチェック 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) サブグループ別部品情報リストDOMファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」のファイルチェック 実行
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 本処理Main()メソッド呼出し
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 本処理(Mainメソッド) 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 後処理After()メソッド呼出し
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 後処理(Afterメソッド) 実行
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」ファイルを
解析し、標準転記の表現式を取得します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_acm.yaml」ファイルを
解析し、標準転記の表現式を取得します...
[プロセス] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) データレコードのコンバート完了、出力ファイルに「1」件のレコードを追加。
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
[情報    ] (NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力レコード件数: 1
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 転記仕様のYAMLファイル「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」を開始します...
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 前処理Before()メソッド呼出し
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」を開始します...
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 前処理(Beforeメソッド) 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 引数(JSON)内容の解析
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 指定のInputスキーマファイル「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」のチェック
実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) サブグループ別部品情報リストDOMファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」のファイルチェック 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 本処理Main()メソッド呼出し
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 本処理(Mainメソッド) 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 正常件数：1
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 異常件数：0
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 振り分けモジュール : 後処理After()メソッド呼出し
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 後処理(Afterメソッド) 実行
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「サブグループ別部品情報リストDOMファイルレコード生成」が正常完了しました。
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 「プラグイン振分モジュール」が完了しました。
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 入力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_work.yaml」ファイルを解析し、標
準転記の表現式を取得します...
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力スキーマ YAML「/workspace/schema/f013_web_catalog_parts_info_illust_dom_acm.yaml」ファイルを解析し、標
準転記の表現式を取得します...
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) データレコードのコンバート完了、出力ファイルに「1」件のレコードを追加。
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力ファイル: gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_dom_035103_FDA60_EH4_B21S003_11_11.110_01_ac_20250101_ver0001.parquet
(NameSpace: market-vehicle-data WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: ) 出力レコード件数: 1

データリネージ実行ログ出力

・データリネージ実行ログテーブル：
       データリネージ実行ログ：シート「データリネージ実行ログ」の Case 6-2 を参照。

[2025-11-03 19:07:05] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
[2025-11-03 19:07:06]
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
転記仕様のYAMLファイル
「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA
60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み
実行
[2025-11-03 19:07:07] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
振り分けモジュール : 前処理Before()メソッド呼出し
[2025-11-03 19:07:07] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始
[2025-11-03 19:07:05] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
[2025-11-03 19:07:06]
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
転記仕様のYAMLファイル
「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
[2025-11-03 19:07:06] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA
60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み
実行
[2025-11-03 19:07:07] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
[2025-11-03 19:07:07] [プロセス] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
振り分けモジュール : 前処理Before()メソッド呼出し
[2025-11-03 19:07:07] [情報    ] (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」プラグインを開始
します...
"2025-11-03T08:25:41.725309300Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「f013WEBカタログ部品情報＆イラストdom累積作成」を開始します...
2025-11-03T08:25:42.497493200Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
2025-11-03T08:25:52.985896Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
転記仕様のYAMLファイル
「/workspace/transform\transform_spec_130021.yml」の読み込み 実行
2025-11-03T08:25:53.164581900Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
入力・出力ファイルのスキーマ YAML ファイルのダウンロード 実行
2025-11-03T08:25:53.346637800Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
対象データファイル「gs://b144-cloud-storage-
yang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA
60_EH4_B21S003_11_11.110_01_parts_20250101_ver0001.html」の読み込み
実行
2025-11-03T08:25:53.533234400Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「プラグイン振分モジュール」を開始します...
2025-11-03T08:25:53.670008300Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」 取得
2025-11-03T08:25:53.840561200Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
プラグイン「f013-subgrp-parts-list-dom-record-gen.dll」のロード
2025-11-03T08:25:54.972671Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
振り分けモジュール : 前処理Before()メソッド呼出し
2025-11-03T08:25:55.141024900Z (NameSpace: market-vehicle-data
WorkFlowName: workflow-01m0013p001004-znp7k-c7r4k ExecuteTaskId: )
「サブグループ別部品情報リストDOMファイルレコード生成」を開始します...

データリネージ実行ログ：シート「データリネージ実行ログ」の Case 6-2 を参照。

Copyright(c) 2014 Broadleaf Co.,Ltd.

PTE-010-23.システムテスト仕様書





================================================================================
ドキュメント: (No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成_ケース_V2.pdf (PDF 2)
ファイル名: (No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成_ケース_V2.pdf
================================================================================

システム名

f013カタログ部品データ作成

機能名

サブグループ別部品情報リストDOMファイルレコード生成

(No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成.xlsxケース

№

大分類

中分類

小分類

テスト条件

仕様

備考

結果

実施日

実施者

エビデンス

1
1-1
1-2
1-3

2
2-1
2-2

前提
累積ツール起動

起動時のパラメータ確認
データベース接続
配置ファイル存在チェック

累積の該当 リネージ情報を指定して

部品一覧Excel UT仕様書のCase1-1にて既にテスト済みである
部品一覧Excel UT仕様書のCase1-2にて既にテスト済みである
部品一覧Excel UT仕様書のCase1-3にて既にテスト済みである

ここでは正常ケースを1件のみ実施する。
ここでは正常ケースを1件のみ実施する。
ここでは正常ケースを1件のみ実施する

リネージのプロセスID、タスクID指定あり
専用プラグインの指定チェック

部品一覧Excel UT仕様書のCase2-1にて既にテスト済みである
サブグループ別部品情報リストPDFファイルレコード生成 UT仕様書のCase2-2にて既にテスト済みである

ここでは正常ケースを1件のみ実施する
ここでは正常ケースを1件のみ実施する

※他の累積プラグインと同じで、ツール起動の基本的な動作は今回テストのポイントじゃなくて、プラグインの呼出と戻ったレコードでParquet作成をポイントにする
・累積作成_サブグループ別部品情報リストDOMファイルレコード生成（f013-subgrp-parts-list-dom-record-gen.dll の処理）

ここからプラグイン機能

3

データファイル(DOM)からデータ加工（専用ブラグイン経由）

前処理 (Before)

3-1
3-1-1

3-1-1-1

3-1-1-2

3-1-2

3-1-2-1
3-1-2-2

3-2
3-2-1
3-2-1-1

3-2-1-2

3-2-2
3-2-2-1

3-2-2-2

3-2-3
3-2-3-1

3-2-3-2

3-2-4
3-2-4-1

3-2-4-2

3-3

3-3-1

リネージ設定情報および入力ファイルチェック

「リソース管理」テーブルに、当リネージが使ってるリソースの設定情報チェック
必須項目のチェック：文字コード（code_page）

文字コード（code_page）が設定の場合

確認事項なく、引き続き処理

文字コード（code_page）が未設定の場合  ※システム系エラー（エラーハンドリングと関係ない）

ExitCode：255
異常終了
コンソールログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理」テーブルにて、文字コード（code_page）の設定がされていません。

データリネージ実行ログ出力：

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

InputスキーマYamlに、下記の項目は必須です

列「f013_car_model」
列「f013_car_model_classification_code」
列「f013_main_group_code」
列「f013_sub_group_code」

InputスキーマYamlに、必須項目存在チェック

列「f013_fig_illust_disp_no」

列「f013_subgrp_parts_list_dom_content」

必須項目はすべて InputスキーマYamlファイルに存在する場合
確認事項なく、引き続き処理
必須項目の1つが InputスキーマYamlファイルに存在しない場合  ※システム系エラー（エラーハンドリングと関係ない）
ExitCode：253
異常終了
コンソールログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「xxxx」に、必須項目「xxxx」がないです。

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「xxxx」に、必須項目「xxxx」がないです。

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「xxxx」の「リソース管理テーブル」にて、指定されたInputスキーマYamlファイル:「xxxx」に、必須項目「xxxx」がないです。

データリネージ実行ログ出力：

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

DOMファイルパスのチェック

入力ファイル命名規則内のマクロ変数の存在チェック

命名規則内のマクロ変数が存在する

確認事項なく、引き続き処理

命名規則内のマクロ変数が存在しない

確認事項なく、引き続き処理

入力ファイル命名規則に必須のマクロ変数が含まれているかのチェック

入力ファイルが存在する

確認事項なく、引き続き処理

入力ファイルが存在しない   ※システム系エラー（エラーハンドリングと関係ない）

ExitCode：252
異常終了
コンソールログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「{lineageID}」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「xxxx」に必須マクロ変数「xxxx」がないです。

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「{lineageID}」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「xxxx」に必須マクロ変数「xxxx」がないです。

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：当リネージID「{lineageID}」の「リソース管理」テーブルにて、指定された入力ファイル命名規則「xxxx」に必須マクロ変数「xxxx」がないです。

データリネージ実行ログ出力

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

入力ファイルの存在チェック

入力ファイルが存在する

確認事項なく、引き続き処理

入力ファイルが存在しない   ※システム系エラー（エラーハンドリングと関係ない）

ExitCode：245
異常終了
コンソールログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxx」が見つかりません。

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxx」が見つかりません。

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxx」が見つかりません。

データリネージ実行ログ出力：

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

①「データリネージ実行ログ」テーブルの各項目と設定内容の確認を追加

OK
OK

2025/11/3 TH.尚
2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

①「データリネージ実行ログ」テーブルの各項目と設定内容の確認を追加

OK

OK

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

2025/11/3 TH.尚

2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

①「データリネージ実行ログ」テーブルの各項目と設定内容の確認を追加

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

①「データリネージ実行ログ」テーブルの各項目と設定内容の確認を追加

DOMファイル 0 バイトチェック

0バイト以上の場合

確認事項なく、引き続き処理

0バイトの DOMファイルの場合  ※累積処理　ファイルの中身異常（エラーハンドリングと関係ない）

ExitCode：243
異常終了
コンソールログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxxx」が0バイトで、累積処理を実行できません。

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxxx」が0バイトで、累積処理を実行できません。

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：対象データファイル「xxxx」が0バイトで、累積処理を実行できません。

データリネージ実行ログ出力：

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

①「データリネージ実行ログ」テーブルの各項目と設定内容の確認を追加

本処理 (Main)

DOMファイルの読み取りおよびInputスキーマ構造データの構築

指定列の値設定

※マクロ変数異常の場合は、Case2-3でチェック済み
　異常ケースなし

DOMファイル名から

列「f013_car_model」
列「f013_car_model_classification_code」
※性能テストのため、10MBのDOMファイルをテスト
列「f013_main_group_code」
列「f013_sub_group_code」
列「f013_fig_illust_disp_no」

DOMファイル内容から

列「f013_subgrp_parts_list_dom_content」

処理異常発生

読み取りに失敗したファイル

3-3-2

3-3-2-1
3-3-2-1-1

Copyright(c) 2014 Broadleaf Co.,Ltd.

ホワイトボックスにしないと、解析の値が正しいかのチェックが見えないため
此処のチェックは、Test Codeで検証する。
目視確認の結果は、Case5で確認する。

マクロ変数「!FS_CAR_MODEL!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_CAR_MODEL_CLSSFN!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_MAINGRP_CD!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_SUBGRP_CD!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!ILLUST_DISP_NO!」の値をDOMファイル名から抽出し、当列に設定する

「リソース管理」テーブルで指定されたエンコーディングでDOMファイルの内容を読み取り、当列に設定する

存在しない文字コードを設定する:utf-9

loglevel:release

ExitCode：255
異常終了
コンソールログ出力

OK

2025/11/3 TH.尚

OK

2025/11/3 TH.尚

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')

②LOGメッセージの修正

PTE-010-23.システムテスト仕様書

3-3-2-1-2

loglevel:debug

ExitCode：255
異常終了
コンソールログ出力

スタックトレース:出力なし

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり
データリネージ実行ログ出力：

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力なし

ローカルログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり

クラウドログ出力

ログタイトル： NameSpace + WorkFlowName + ExecuteTaskId
ログ内容：'utf-9' is not a supported encoding name. For information on defining a custom encoding, see the documentation for the Encoding.RegisterProvider method. (Parameter 'name')
スタックトレース:出力あり
データリネージ実行ログ出力：

シート「データリネージ実行ログ」の「データリネージ実行ログ」テーブルの各項目と設定内容を参照。

3-4
3-4-1

3-4-2
3-4-2-1

3-4-2-2

3-4-2-3

3-5
3-5-1

3-5-2

4

4-1
4-2

5
5-1

5-1-1

5-1-2

レコードの読み取りと保存（予期せぬ異常を確認）

成功した場合

失敗した場合

後処理 (After)

正常・異常戻り値の確認

ここから、プラグインから戻ったレコードの引き続き処理

データコンバート : レコードのカラム毎に操作
出力スキーマにコンバートする

Parquetファイルの作成

データ型変換
データの長さチェック

Parquetファイル出力

最終結果の確認

ファイルのフルパス確認

ファイル内容の確認

5-1-3

性能確認

6
6-1

6-2

全体の正常系ログ出力確認

出力メッセージ種別確認(loglevel:realse)

出力メッセージ種別確認(loglevel:debug)

DOMファイル名から

列「f013_car_model」
列「f013_car_model_classification_code」
列「f013_main_group_code」
列「f013_sub_group_code」
列「f013_fig_illust_disp_no」

DOMファイル内容から

列「f013_subgrp_parts_list_dom_content」

メモリ使用量
CPU 使用量
実行時間

コンソールログ
ローカルログ
クラウドログ
データリネージ実行ログ

コンソールログ
ローカルログ
クラウドログ
データリネージ実行ログ

確認事項なく、引き続き処理

・エラーハンドリングを「resume」に設定する ExitCode：124

・エラーハンドリングを「skip」に設定する

空のParquetファイルが生成される

ExitCode：124
空のParquetファイルが生成される

・エラーハンドリングを「terminate」に設定する ExitCode：255

異常終了、Parquetファイルが生成されない

正常完了

異常終了

・0バイトのファイル

・命名規則に必須マクロ変数がない

正常の ExitCode を返却する
メッセージ情報  を返却する

エラーの ExitCode を返却する
メッセージ情報  を返却する
エラーの ExitCode を返却する
メッセージ情報  を返却する

部品一覧Excel UT仕様書のCase4-1にて既にテスト済みである
部品一覧Excel UT仕様書のCase4-2にて既にテスト済みである

ここでは正常ケースを1件のみ実施する
ここでは正常ケースを1件のみ実施する

部品一覧Excel UT仕様書のCase5-1にて既にテスト済みである

ここでは正常ケースを1件のみ実施する

リネージの出力の設定のGCSリポジトリと命名ルールに
ファイル命名ルールに従って作成されること

マクロ変数「!FS_CAR_MODEL!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_CAR_MODEL_CLSSFN!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_MAINGRP_CD!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!FS_SUBGRP_CD!」の値をDOMファイル名から抽出し、当列に設定する
マクロ変数「!ILLUST_DISP_NO!」の値をDOMファイル名から抽出し、当列に設定する

「リソース管理」テーブルで指定されたエンコーディングでDOMファイルの内容を読み取り、当列に設定する

処理中の最大メモリ使用量が想定範囲内であること。
処理中のCPU使用率が想定範囲内であること。
累積処理の実行時間

出力ログメッセージ確認（メッセージ種別：Info）
出力ログメッセージ確認（メッセージ種別：Info）
出力ログメッセージ確認（メッセージ種別：Info）
出力ログメッセージ確認（実行結果出力）

出力ログメッセージ確認（メッセージ種別：Info）
出力ログメッセージ確認（メッセージ種別：Info、Process）
出力ログメッセージ確認（メッセージ種別：Info、Process）
出力ログメッセージ確認（実行結果出力）

(No.43)単体テスト仕様書_f013カタログ部品データ作成_01.累積作成_サブグループ別部品情報リストDOMファイルレコード生成.xlsxケース

②LOGメッセージの修正

②LOGメッセージの修正

①「データリネージ実行ログ」テーブル中の各項目の確認

OK

2025/11/3 TH.尚

②LOGメッセージの修正

②LOGメッセージの修正

②LOGメッセージの修正

①「データリネージ実行ログ」テーブル中の各項目の確認

③ログ出力モード調整チェック

OK

OK

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

2025/11/3 TH.尚

2025/11/3 TH.尚

OK

OK

2025/11/3 TH.尚

2025/11/3 TH.尚

OK

2025/11/3 TH.尚

OK

2025/11/3 TH.尚

OK

2025/11/3 TH.尚

Copyright(c) 2014 Broadleaf Co.,Ltd.

PTE-010-23.システムテスト仕様書


