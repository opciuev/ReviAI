
審査ステップ

1. 事前準備：審査資料の整理

今回のシステムテスト仕様書、前回のシステムテスト仕様書（初回は不要）、要件定義書、外部設計書、BLレビューと議事録、3H社内レビュー、AIレビューと担当者判断を用意（選択可能）

審査対象PDFに欠落・切れがないか目視で確認

PDFファイルが複雑な場合は、無料のオンラインPDF結合ツールを使用して一括で結合し、マージしてからアップロード。

2. AIへの指示：審査条件を明示

審査対象（要件定義書や設計書のファイル名）を明示

*前回システムテスト仕様書と今回システムテスト仕様書を区別

使用する審査項目（第0〜第6項）を指定し、それぞれの審査項目に対応する資料をアップロードする

必要であれば特定項目のみを絞って審査依頼も可能

プロンプトの指示とプロンプトの内容を使用

3. 出力データの整形と共有

AI出力結果をGoogleスプレッドシート形式でエクスポート

4. 審査結果の確認とレビュー

AI出力の評価結果（〇／△／×）を確認

不適合理由・修正案が妥当かを人の目でもチェック

審査結果をGoogleスプレッドシートに反映し、フォーマットを整えた上で、現在審査がサイクル内のどの段階にあるのかを明示してください。

プロンプトの指示

添付されたシステムテスト仕様書の内容について、以下の審査項目に基づいて漏れなく審査を実施してください。可能であれば、最大限の計算リソースで審査を行ってください。 以下の資料を参照してください：

【参考資料】

基本設計書：【ｘｘｘ基本設計書.pdf】

単体テスト仕様書：【ｘｘｘ単体テスト仕様書.pdf】

前回のシステムテスト仕様書：【ｘｘｘ.pdf】

今回のシステムテスト仕様書：【ｘｘｘ.pdf】

AIレビューと担当者判断：【AIレビューと担当者判断.ｐｄｆ】

【出力形式】

※ PDFファイルに切り取られた（途切れた）部分がある場合は、可能な限り内容をつなぎ合わせて審査してください。内容が判読できない場合は、その旨を明記してください。 ※ 以下のすべての審査項目は、Googleスプレッドシートにエクスポート可能な形式で提示してください。

■ 評価結果表 まず、AIは以下の8列の形式で初期レビュー結果を出力します。この時点では、7列目と8列目は常に空欄です。 要求No｜要求内容｜評価（〇／△／×）｜適合/不適合箇所｜適合/不適合理由｜修正案｜対応有無｜対応方法／非対応理由

各要求Noについて、省略せずに、以下3つのいずれかの評価を使用して評価してください：

〇：適合

△：一部不適合

×：不適合

同じ要求Noに複数の不適合がある場合は、行を分けて記載

「不適合箇所」は、セクション名・項番・キーワードなどで明確に特定すること

「不適合理由」は、分かりやすく簡潔にまとめてください。

「適合理由」は、任意で評価して構いませんが、今回が前回よりも改善されている場合は必ず評価を行ってください。

「修正案」は、具体的かつ明確に提示してください。

「対応有無」は、空欄にしてください。

「対応方法／非対応理由」は、空欄にしてください。

【拡張審査項目】の評価結果は、上記8点に加え、拡張審査項目の特有要件に従って出力してください。

プロンプトの内容

一、【審査項目と基準】

■ 0. テスト設計の前提と戦略に関する要求（システムテスト設計可能性の審査）

0.1 業務ユースケースの網羅性（T1）: 基本設計書と単体テスト仕様書に記載された業務ユースケースが、テストシナリオとして網羅的に洗い出されているか。

0.2 業務シナリオの論理性（T2）: 複数の機能や画面をまたぐエンドツーエンドの業務シナリオについて、処理の流れやデータの受け渡しが論理的に検証可能となっているか。

0.3 システム間連携の観点（T3）: API、バッチ、ファイル連携など、他システムとのインターフェースについて、正常系・異常系（タイムアウト、リトライ、再送、冪等性など）のテスト観点が定義されているか。

0.4 非機能要件のテスト可能性（T4）: 性能（レスポンスタイム）、セキュリティ（権限、アクセス制御）、ユーザビリティ（画面表示崩れ）、可用性（障害・復旧）といった非機能要件が、テスト可能な形で観測可能になっているか。

0.5 データシナリオの妥当性（T5）: マスタデータ、トランザクションデータ（通常データ、大容量データ、ゼロ件データ）など、システムテスト特有のデータパターンや、データの状態（例：月次、年度末）を考慮したシナリオが定義されているか。

0.6 システム移行・切り戻しの観点（T6）: 該当する場合、データ移行（コンバージョン）のテストや、新旧システム切り替え・切り戻し（フォールバック）のテスト観点が定義されているか。

0.7 テスト不能箇所の特定（T7）: 仕様の不足などによりテスト設計が不可能な箇所が特定され、必要な追加情報がリストアップされているか。

■ 1. 論理構成と明確性に関する要求

1.1 各テストケース（または業務シナリオ）において、「①前提条件」「②操作手順」「③期待結果」が具体的に記述され、因果関係が明確であるか。また、その前提条件が、要件定義書や外部設計書に記載された制約や仕様に基づいているか。

1.2 曖昧な表現（例：「うまく」「必要に応じて」）が使われていないか。

1.3 期待結果が「どのように・何を確認すべきか」まで明確に記述され、目視／ログ／DBなどの検証手段が示されているか。

■ 2. 簡潔性に関する要求

2.1 専門用語・略語・外来語の使用が適切かつ一貫している

2.2 分かりやすい用語を使用している

2.3 評価に影響を与えない装飾語・曖昧な修飾表現が除去されている

2.4 テストケースは、読み手が一読して理解できる粒度・長さで説明されている

2.5 冗長な記述がない

2.6 重複表現がない

2.7 客観的に記述されている

2.8 説明的・叙述的に記述されている

2.9 受動態が使用されている

2.10 一人称表現（「我々」など）を使用していない

2.11 文体（「です・ます」体と「である」体）が統一されている

2.12 表記揺れ（例：「ログ出力」vs「ログの出力」）が存在しない

■ 3. 内容の整合性に関する要求

3.1 見出しに階層構造を用いているか

3.2 階層は4段階以内か

3.3 見出しの階層順に矛盾がないか

3.4 前後のテストケース間に論理矛盾（特にデータの状態）がないか

3.5 見出しと本文の内容に技術的な齟齬がないか

3.6 重要なテストデータ（またはシステム構成図）は図や表で整理されているか

3.7 セクションの分類構造が番号体系と対応しており、番号の抜け・重複・順序の乱れがないかを確認すること

3.8 「大分類・中分類・小分類・テスト条件・仕様」などの分類構造が、論理的かつ一貫しており、項目間の関係性に矛盾がないかを確認すること

■ 4. 品質の担保と再現性に関する要求

4.1 操作手順の再現性: 第三者でも実行可能なレベルで操作手順が記述されているか

4.2 検証手段の明示: UI、ログ、DB、システム間連携の証跡 など、期待結果の検証手段が明示されているか

4.3 期待結果の明確性: 合否を客観的に判断できる定量的・具体的な記述となっているか

4.4 テスト資産の再利用性: スクリプト・テストデータが将来の再利用を考慮しているか

4.5 テスト環境の明示: 対象バージョンやテスト環境（本番同等環境、検証環境など）が明示されており、関連システムとの依存関係も考慮されているか

4.6 異常時ログ・エラー出力の検証: エラー発生時のログ出力／エラーメッセージが仕様通りに記録・表示されるか

4.7 テストの実行方法の明示: 各テストが手動実行か、自動化されたテストコードによる実行かが明確に区別・記述されているか

■ 5. テスト設計の妥当性と網羅性に関する要求

5.1 要件定義・設計仕様との整合性: 要件定義書や外部設計書に記載された業務要件やシステム要件をテストで網羅しているか。特に、テストケースが、要件を実現するために定義された業務フローやシステム挙動を正確に反映しているか

5.2 テスト観点の網羅性: 正常系／異常系・例外系／境界値がバランスよく含まれているか

5.3 テストデータの妥当性: 使用するテストデータが目的に応じて適切に選定されているか

5.4 テストの独立性: 各テストケースが他の実行順序に依存せず、単独で実行可能になっているか（ただし、シナリオテストは除く）

5.5 システム入力仕様の網羅性: テスト対象への入力（UI操作、APIリクエスト、バッチ投入ファイル等）自体の仕様（必須項目、データ型、許容値、フォーマット、大文字/小文字の区別等）に対するテスト観点が十分に考慮されているか

■ 7. AIレビューと担当者判断

内容: 本項目は、前回の審査において「△」または「×」と評価された審査項目に対し、担当者が「非対応」と判断した場合、その対応方法または非対応理由について再審査を行う。

審査方法:

担当者の理由が妥当な場合：前回評価の「△」または「×」を、今回評価の「〇」に変更してください。

【適合/不適合理由】には【AIによる承認理由】として、「非対応」の判断が妥当と見なされる根拠を具体的に記述してください。

（例：ビジネス上の判断、技術的な制約、代替策の提示、影響の軽微性など）

担当者の理由が妥当でない場合：前回評価の「△」または「×」を今回も維持してください。

【適合/不適合理由】には【AIによる再反論】として、提示された理由が不十分である根拠や、依然として残るリスクを具体的に記述し、新たな修正案を提示してください。

出力形式: 「審査項目と基準」に基づき、担当者の判断結果を審査観点として抽出し、**【第7項】**として評価を行ってください。

【要求No】：初回審査時のNoを含めて（括弧で）記載してください

【要求内容】：初回と同一の内容を記載してください

【評価】：今回の評価結果（〇／△／×）を記載してください

【適合/不適合理由】：【AIによる承認理由】または【AIによる再反論】として記述してください

【修正案】：担当者が前回の修正案に対応していない場合は前回の修正案を維持し、意見がある場合はその内容を踏まえた新たな修正案を提示してください



# PDF Content (Markdown format):


================================================================================
ドキュメント: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストDOMファイルレコード生成_ケース_V1.pdf (PDF 1)
ファイル名: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストDOMファイルレコード生成_ケース_V1.pdf
================================================================================

プロジェクトNo

B145

■システムテスト方針、テスト概要

■テスト概要

プロジェクト名

累積作成_サブグループ別部品情報リストDOMファイルレコード生成

実施者１

実施者２

実施者2

カタログ部品データ作成業務において、指定GCS領域へ日常のサブグループ別部品情報リストDOMファイルがアップロードされると、ワークフローが自動的に起動し、累積Parquetファイルを生成する。
★  本ワークフローの構成要素は、Excel累積処理と同等であり、基本的な動作はすでに確認済みである。

今回テストにおける重点は、以下に限定する：

・サブグループ別部品情報リストDOMファイルの累積処理（f013-subgrp-parts-list-dom-record-gen.dll の処理）

動作イメージ:

GCS指定バケットにDOMファイルがアップロードされると、Pub/Subトピックで通知し、累積データ作成ワークフローを起動する。
以下の一連の処理により、累積Parquetファイルが生成される：

・パラメータYAMLファイルの作成
・転記仕様YAMLファイルの作成
・サブグループ別部品情報リストDOMファイルレコード生成の累積処理
・GCSオブジェクトの削除
・Cloud Loggingへのログ出力

テスト対象：

exe：

・workflow-parameter-yaml-generator.exe
・transform-yaml-generator.exe
・acumulate-file-loader.exe
・gcs-object-remover.exe

dll：

パラメータyaml作成ツール
転記仕様yaml作成ツール
累積作成ツール
GCSファイル削除ツール

・f013-subgrp-parts-list-dom-record-gen.dll

累積作成_サブグループ別部品情報リストDOMファイルレコード生成

yaml：

・workflow_01M0013P001005.yaml

Argo WorkFlow定義ファイル

テスト環境：

Rancher Desktop（1.19.3）
GCS（Google Cloud Storage）
Argo System（v1alpha1）
MySQL 8.0

■テスト観点

本システムテストでは、実業務運用を想定し、以下の観点からシステムテストをします。
※単体テスト済み機能も含め、一連処理の結合的挙動もテスト対象にします。

・正常系

業務運用：日常のデータアップロード業務が問題なく行えることを保証する

DOMファイルがアップロードされた場合、ワークフローは定義どおり動作し、累積Parquetファイルが作成されること。
累積処理の所要時間が業務許容範囲内であること。

・異常系

＞　入力データ異常系　（業務運用：不正データによる業務停止や誤集計を防ぐ）

入力データファイルの不備の場合、ワークフローの動作結果、警告終了か、エラー終了かの動作確認

入力DOMファイルの不備の場合、リネージ設定に基づき、処理が適切に停止または継続し、結果および原因がログに出力されること。
ログが運用担当者にとって判読可能であり、障害対応に必要な情報を含むこと。

・性能テスト

Workflow 設定で最大メモリ使用量が 2GB に制限されているため、その範囲内で性能テストを行うこと。
CPU・メモリ使用量が想定範囲内に収まり、他業務に影響しないこと

■シナリオ

・正常系

業務運用：日常のデータアップロード業務が問題なく行えることを保証する

Case01：DOMのファイルパスおよびファイル名がすべて規則に準拠しており、正常完了

テスト前提：

・ファイルパスおよびファイル名が規格に準拠しているサブグループ別部品情報リストDOMファイル

・workflow設定ファイル（workflow_config_common.yml） ：

· logtype（出力ログ種類）

console
cloud_logging

・「データリネージプロセス管理」テーブル：

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

terminate
f013-subgrp-parts-list-dom-record-gen.dll

実施＆確認内容：

DOMファイルがGCS指定バケットにアップロードし、DOM累積Parquetが作成されることを確認する
※初回のテストなので、各リネージの出力結果も一回確認します。

・途中Yamlファイルが作成されること
・DOM累積Parquetが作成されること
・GCSオブジェクトの途中ファイルが削除されること
・W/F実行結果： 成功（正常完了）
・CloudLoggingに処理情報が出力されること
・「データリネージ実行ログ」テーブルに処理情報が出力されること。

・異常系

入力データ異常　（業務運用：不正データによる業務停止や誤集計を防ぐ）

Case02：0バイトのDOM ファイルの場合、errorhandling = skip 時は Parquet を出力せず、異常終了とする

テスト前提：

・0バイトした DOMファイルを準備

・workflow設定ファイル（workflow_config_common.yml） ：

· logtype（出力ログ種類）

console
cloud_logging

・「データリネージプロセス管理」テーブル

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

skip
f013-subgrp-parts-list-dom-record-gen.dll

実施＆確認内容：

DOMファイルがGCS指定バケットにアップロードし、DOM累積Parquetが作成されることを確認する

・累積Parquetファイルが作成されないこと
・W/F実行結果：失敗（異常終了：243）
・CloudLoggingに処理情報が出力されること
・「データリネージ実行ログ」テーブルに処理情報が出力されること。

・性能テスト

Workflow 設定で最大メモリ使用量が 2GB に制限されているため、本テストでは 50MB のファイルを用いて性能確認を実施する。

Case03：10 MB の DOMファイルの場合、Parquet を正常に出力し、正常完了

テスト前提：

・10MB の DOM ファイルを準備

・workflow設定ファイル（workflow_config_common.yml） ：

· logtype（出力ログ種類）

console
cloud_logging

・「データリネージプロセス管理」テーブル：

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

terminate
f013-subgrp-parts-list-dom-record-gen.dll

実施＆確認内容：

DOMファイルがGCS指定バケットにアップロードし、DOM累積Parquetが作成されることを確認する

・DOM累積Parquetが作成されること
・GCSオブジェクトの途中ファイルが削除されること
・W/F実行結果： 成功（正常完了）
・CloudLoggingに処理情報が出力されること
・「データリネージ実行ログ」テーブルに処理情報が出力されること。
・メモリ使用量、CPU 使用量、実行時間

■テスト項目

№

Case01

1-1

1-2

1-2

1-4

使用機能

確認内容

実施日1

結果1

資料1

実施日2 結果2

資料2

確認ポイントの仕様イメージを書く

ケース1にで、仕様を書くべき、確認内容のポイントはエビデンスに記載して、関係を明確し、読みやすくする

テスト手順
【データ準備】
 シート「DOMデータ_Input」：
　　・Case01
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case01

DOMファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

パラメータYAMLが作成されることを確認する

パラメータYAML作成ツール

　パラメータYAMLファイル

　YAMLファイルの内容

転記仕様YAMLが作成されることを確認する

転記仕様YAML作成ツール

　転記仕様YAMLファイル

　YAMLファイルの内容

累積Parquetファイルが作成されることを確認する

累積データ作成ツール

パラメータYAMLが作成されること
・ファイル名称：parameter_01M0013P001005.yml

・parameter_01M0013P001005.yml
※シート「出力ファイル明細_Output」のCase01のように

転記仕様YAMLが作成されること
・ファイル名称：transform_spec_130021.yml

・transform_spec_130021.yml
※シート「出力ファイル明細_Output」のCase01のように

1-5

　累積Parquetファイル

　Parquetファイルの内容

部品Parquetが作成されること
・ファイル名称：catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

・catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
※シート「出力ファイル明細_Output」のCase01のように

1-6

1-7

1-8

1-9

1-10

　　f013・サブグループ別部品情報リストDOMファイル情報

DOMファイルの内容を出力

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

　パラメータYAMLファイル

　転記仕様YAMLファイル

W/F実行結果を確認する

　W/F実行結果

CloudLoggingが出力されることを確認する

　 途中情報

　 実行結果

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

成功（正常完了）

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

「累積処理が正常完了しました。」が出力されること

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

2025/11/3

OK

OK

TH.薛

TH.薛

1-11

「データリネージ実行ログ」テーブルが出力されることを確認する

開始・終了などの基本情報が「データリネージ実行ログ」テーブルに出力されること。

2025/11/3

OK

TH.薛

Case02

【データ準備】
 シート「DOMデータ_Input」：
　　・Case02
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case02

DOMファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動
※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積Parquetファイルが作成されないことを確認する

累積データ作成ツール

2-1

　累積Parquetファイル

累積Parquetが作成されないこと

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

2-2

2-3

2-4

2-5

　パラメータYAMLファイル

　転記仕様YAMLファイル

W/F実行結果を確認する

　W/F実行結果

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

失敗（異常終了）

CloudLoggingが出力されることを確認する

ログ出力モジュール

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

2025/11/3

OK

TH.薛

　 途中情報

　 エラーレコード情報

　 実行結果

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

エラー情報が出力されること

「累積処理が異常終了しました。」が出力されること

2-6

「データリネージ実行ログ」テーブルが出力されることを確認する

開始・終了などの基本情報が「データリネージ実行ログ」テーブルに出力されること。

2025/11/3

OK

TH.薛

Case03

【データ準備】
 シート「DOMデータ_Input」：
　　・Case03
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case03

DOMファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

パラメータYAMLが作成されることを確認する

パラメータYAML作成ツール

累積Parquetファイルが作成されることを確認する

累積データ作成ツール

3-1

　累積Parquetファイル

　Parquetファイルの内容

部品Parquetが作成されること
・ファイル名称：catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

・catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
※シート「出力ファイル明細_Output」のCase03のように

3-2

　　f013・サブグループ別部品情報リストDOMファイル情報

DOMファイルの内容を出力

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

3-3

3-4

3-5

3-6

3-7

3-8

3-9

　パラメータYAMLファイル

　転記仕様YAMLファイル

W/F実行結果を確認する

　W/F実行結果

CloudLoggingが出力されることを確認する

　 途中情報

　 実行結果

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

成功（正常完了）

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

「累積処理が正常完了しました。」が出力されること

「データリネージ実行ログ」テーブルが出力されることを確認する

開始・終了などの基本情報が「データリネージ実行ログ」テーブルに出力されること。

メモリ使用量

CPU 使用量

処理中の最大メモリ使用量が想定範囲内であること。

処理中のCPU使用率が想定範囲内であること。

3-10

実行時間

累積処理の実行時間

■テストパターン

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛

2025/11/4

OK

TH.薛





================================================================================
ドキュメント: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストDOMファイルレコード生成_エビデンス_V1.pdf (PDF 2)
ファイル名: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストDOMファイルレコード生成_エビデンス_V1.pdf
================================================================================

プロジェクトNo

B145

プロジェクト名
累積作成_サブグループ別部品情報リストDOMファ
イルレコード生成

※　テスト結果を詳細に記載出来ない　または　ハードコピーなどが
　ある場合はシートを追加し、資料列にシート名を記載します。

■エビデンス

№
Case01

運用または要件・機能

　期待される結果

実施結果

判定

１回目
実施日

担当

判定

２回目
実施日

担当

【データ準備】
　シート「DOMデータ_Input」：
　　・Case01
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case01

DOM ファイルをGCSバケットにアップロード
　※「DOM データ_Input」シートのCase01

Pub/Subトピックに通知が送信、W/Fが起動

パラメータYAML作成

1-1

1-2

　パラメータYAMLファイル

　YAMLファイルの内容

パラメータYaml「parameter_01M0013P001005.yml」が作成されること

パラメータYaml「parameter_01M0013P001005.yml」が作成され

parameter_01M0013P001005.yml
　※シート「出力ファイル明細_Output」のCase01

lineage_group_info:

  lineage_group_id: "01M0013P001"

parameter_01M0013P001005.yml
　※シート「出力ファイル明細_Output」のCase01

lineage_group_info:

  lineage_group_id: "01M0013P001"

OK

OK

2025/11/3

TH.薛

2025/11/3

TH.薛

  ......

  lineage_subgroup_summary:

    lineage_subgroup_id: "006"

    lineage_summary:

      ......

      error_handling_div: "0"

      ......

lineage_subgroup_info:

      ......

lineage_info:

  - lineage_id: "130021"

  ......

macro_variable:

  ......

setting_info:

  ......

event_info:

  ......

  lineage_subgroup_summary:

    lineage_subgroup_id: "006"

    lineage_summary:

      ......

      error_handling_div: "0"

      ......

lineage_subgroup_info:

      ......

lineage_info:

  - lineage_id: "130021"

  ......

macro_variable:

  ......

setting_info:

  ......

event_info:

転記仕様YAMLが作成

1-3

1-4

　転記仕様YAMLファイル

　YAMLファイルの内容

転記仕様YAML「transform_spec_130021.ym」が作成されること

転記仕様YAML「transform_spec_130021.ym」が作成される

transform_spec_130021.yml
　※シート「出力ファイル明細_Output」のCase01

transform_spec_130021.yml
　※シート「出力ファイル明細_Output」のCase01

OK

OK

2025/11/3

TH.薛

2025/11/3

TH.薛

input_file:

  ......

output_file:

  ......

inout_file:

  ......

variable_value_file:

  ......

input_file:

  ......

output_file:

  ......

inout_file:

  ......

variable_value_file:

  ......

transform:

  ......

executeinfo:

  ......

transform:

  ......

executeinfo:

  ......

  errorhandling: 'terminate'

  errorhandling: 'terminate'

loginfo:

  ......

loginfo:

  ......

累積データ作成

　累積Parquetファイル

　Parquetファイルの内容

1-5

1-6

部品価格Parquetが作成されること
　※ファイル名称：catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

部品価格Parquetが作成され
る:catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

　f013・サブグループ別部品情報リストDOMファイル情報

DOMファイルの内容を出力

DOMファイルの内容を出力

artifactの途中ファイルを削除する

1-7

　パラメータYAMLファイル

1-8

　転記仕様YAMLファイル

「parameter_01M0013P001005.yml」は削除されました。

「parameter_01M0013P001005.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

OK

OK

OK

OK

2025/11/3

TH.薛

2025/11/3

TH.薛

2025/11/3

TH.薛

2025/11/3

TH.薛

1-9

W/F実行結果

成功（正常完了）

成功（正常完了）

OK

2025/11/3

TH.薛

1-10

CloudLoggingの出力情報を確認

　 DOM 読み取り件数

　 Parquet出力件数

　 実行結果

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「累積処理が正常完了しました。」が出力されること

「累積処理が正常完了しました。」が出力されること

OK

2025/11/3

TH.薛

1-11

「データリネージ実行ログ」テーブルが出力されることを確認する

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase01

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase01

OK

2025/11/3

TH.薛

Case02

【データ準備】
　シート「DOM データ_Input」：
　　・Case02
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case02

DOM ファイルをGCSバケットにアップロード
　※「DOM データ_Input」シートのCase02

Pub/Subトピックに通知が送信、W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積データ作成

2-1

　累積Parquetファイル

累積Parquetファイルが作成されないこと

累積Parquetファイルが作成されない

OK

2025/11/3

TH.薛

artifactの途中ファイルを削除する

2-2

　パラメータYAMLファイル

2-3

　転記仕様YAMLファイル

「parameter_01M0013P001005.yml」は削除されました。

「parameter_01M0013P001005.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

OK

OK

2025/11/3

TH.薛

2025/11/3

TH.薛

2-4

W/F実行結果

失敗（異常終了）

失敗（異常終了）

OK

2025/11/3

TH.薛

2-6

CloudLoggingの出力情報を確認

   エラーレコード情報

　 実行結果

エラーレコード情報：対象データファイル「gs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_parts_20250101_ver00
01.html」が0バイトで、累積処理を実行できません。

エラーレコード情報：対象データファイル「gs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_01_par
ts_20250101_ver0001.html」が0バイトで、累積処理を実行できません。

「累積処理が異常終了しました。エラー：243」が出力されること

「累積処理が異常終了しました。エラー：243」が出力されること

OK

2025/11/3

TH.薛

2-7

「データリネージ実行ログ」テーブルが出力されることを確認する

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase02

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase02

OK

2025/11/3

TH.薛

Case03

【データ準備】
　シート「DOM データ_Input」：
　　・Case03
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case03

DOM ファイルをGCSバケットにアップロード
　※「DOM データ_Input」シートのCase03

Pub/Subトピックに通知が送信、W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積データ作成

3-1

　累積Parquetファイル

　Parquetファイルの内容

部品価格Parquetが作成されること
　※ファイル名称：catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

部品価格Parquetが作成されること
　※ファイル名称：
catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
catalog_parts_info_illust_dom_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

OK

2025/11/4

TH.薛

3-2

　f013・サブグループ別部品情報リストDOMファイル情報

DOMファイルの内容を出力

DOMファイルの内容を出力

OK

2025/11/4

TH.薛

artifactの途中ファイルを削除する

3-3

　パラメータYAMLファイル

3-4

　転記仕様YAMLファイル

「parameter_01M0013P001005.yml」は削除されました。

「parameter_01M0013P001005.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

「transform_spec_130021.yml」は削除されました。

W/F実行結果

成功（正常完了）

成功（正常完了）

3-5

3-6

3-7

3-8

3-9

CloudLoggingの出力情報を確認

　 DOM 読み取り件数

　 Parquet出力件数

　 実行結果

「データリネージ実行ログ」テーブルが出力されることを確認する

メモリ使用量

CPU 使用量

3-10

実行時間

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「累積処理が正常完了しました。」が出力されること

「累積処理が正常完了しました。」が出力されること

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase03

59m*(100Mi memory)

33s*(1 cpu)

1m50s

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase03

61m

30s

1m30s

OK

OK

OK

OK

OK

OK

OK

OK

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛

2025/11/4

TH.薛



