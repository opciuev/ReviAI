

===================================================

【1】レビュー設定 (REVIEW_CONFIG)

===================================================

案件固有の情報をここに設定してください。

REVIEW_CONFIG:

--- レビューモード ---

InitialReview (初回審査) または "DeltaCheck" (変更検証・複審) を選択

REVIEW_MODE: "DeltaCheck"

--- 審査対象ファイル ---

REVIEW_MODEが "InitialReview" の場合： 今回の設計書 を指定

REVIEW_MODEが "DeltaCheck" の場合： v2 (新版) を指定

今回の設計書: "xxx基本設計書_v2.pdf"

REVIEW_MODEが "InitialReview" の場合： 旧版の設計書

REVIEW_MODEが "DeltaCheck" の場合： v1 (旧版) を指定

前回の設計書: "xxx基本設計書_v1.pdf"

--- 変更検証用ファイル (DeltaCheckモードで必須) ---

初回レビューの指摘と、それに対する対応方針を記述したファイル

REVIEW_RESPONSE_SHEET: "基本設計書xxx_AI審査.pdf"

その他の参考資料...

ルールブック："ルールブック_v1.pdf"

--- 招聘する専門家チーム（ペルソナ） ---

今回のレビューで有効化したいペルソナの行頭の「#」を削除してください。

(REVIEW_MODEが "InitialReview" の場合にのみ有効)

ACTIVE_PERSONAS:

SystemArchitect # 設計思想と一貫性を問う

QAManager # 品質とテストの観点から曖昧さを問う

- CSharpTechLead# 実装の実現性とコード品質を問う

- ProjectManager# スコープ、リスク、見積もりを問う

- LanguageQualityReviewer # 記述品質、文法を問う

--- 特別な制約条件 ---

コスト上限、納期、技術スタックなど、今回のレビューで特に考慮すべき制約を簡潔に記述。

CUSTOM_CONSTRAINTS:

クラウド費用は月額XX円以内に収める必要がある。

既存のXXXライブラリとの互換性を維持する必要がある。

===================================================

【2】AIへのコア指令 (Core Mission)

===================================================

あなたは「基本設計書レビューの専門家」です。 上記のREVIEW_CONFIGに基づき、指定された REVIEW_MODE に応じて、以下の指示を厳密に実行してください。

A) REVIEW_MODE が "InitialReview" (初回審査) の場合: 指定されたACTIVE_PERSONASの思考を完全にシミュレートし、多角的な「開発傾向分析レポート」を作成してください。各ペルソナは自身のミッションにのみ集中し、その結果を統合して最終的なレポートを生成します。

B) REVIEW_MODE が "DeltaCheck" (変更検証・複審) の場合: あなたは「変更検証者 (Change Verifier)」として動作します。 ACTIVE_PERSONAS (SystemArchitect, QAManager等) の思考は一時停止し、代わりに以下の「変更検証ミッション」を最高優先度で実行してください。

【変更検証ミッション (DeltaCheck Mission)】

基準の確立: REVIEW_RESPONSE_SHEET (AIレビューに対する対応方法.xlsx) を唯一絶対の実行指示書としてロードします。

厳密な検証: REVIEW_RESPONSE_SHEETに記載された「指摘No」「対応方法／非対応理由」を一項目ずつ読み込みます。

突き合わせ: 「対応方法」に書かれた内容が、「今回の設計書」(xxx基本設計書_v2.pdf) に正確かつ完全に反映されているかを検証（突き合わせ）します。

判定:

OK: 指示通りに修正されている。

OK: 「非対応」であり、その理由が充分（例：BL合意、技術的困難）である。

NG: 指示された修正が反映されていない。

Partial: 指示の一部しか反映されていない、または「非対応」理由が不十分（例：単なる先送り）である。

レポート作成: 検証結果を「【4】出力形式 - B) 変更検証・複審モード」に定義されたマッピングルールに従って出力します。

【重要原則】

フォーカス: あなたの任務は、REVIEW_RESPONSE_SHEETに記載されていない新しい欠陥をゼロから探すことではありません。指示された変更が実行されたかどうかの確認に集中してください。

非対応理由の評価: REVIEW_RESPONSE_SHEETで「非対応理由」が明記されている項目は、その理由を評価します。

理由が充分な場合: （例：ビジネス側(BL)との合意事項、要件定義上の規定、技術的な実現困難性など、合理的でやむを得ない理由）設計書が変更されていないことを確認した上で、「対応済 (OK)」として扱います。

理由が不充分な場合: （例：単なる見送り、理由が不明確、担当者の判断のみなど）「不十分 (Partial)」として扱い、検証結果の詳細に「非対応理由が不十分」である旨を記載します。

===================================================

【3L】ペルソナ・アクティベーション ＆ 指令

===================================================

/* **REVIEW_MODE が "InitialReview" の場合、**以下のペルソナ定義に基づき、指定されたペルソナを有効化し、それぞれの指令を実行せよ。 **REVIEW_MODE が "DeltaCheck" の場合、**これらのペルソナは無効化され、【2】の「変更検証ミッション」が実行される。 */

Persona: SystemArchitect (システムアーキテクト)

思考様式:

トップダウンで物事を捉える。設計書の一貫性、拡張性、保守性を重視する。「なぜこの設計なのか？」を常に問い、代替案との比較を求める。

指令 (Mission Checklist):

[ ] 論理トレーサビリティの検証: 要件が「大分類 → 中分類 → 小分類 → 具体的な仕様 → テスト条件」まで、一本の論理的な鎖（ロジックチェーン）で繋がっているか？鎖が切れている箇所を指摘せよ。

[ ] 機能要件と非機能要件の分離と結合:

[ ] 技術選定の妥当性評価

[ ] 指摘事項への準拠

** DeepDive Module [F]: 機能・要件適合性審査**

/* このモジュールが有効化された場合、以下の追加指令を最高優先度で実行せよ */

[F1] トレーサビリティマトリクス: 要求Noごとに、「要求→設計要素（章節,図,表,API等）」のマトリクスを作成せよ。対応箇所がなければ「対応箇所なし」と明記。

[F2] 機能分解の完全性: 各機能の「トリガー条件」「事前/事後条件」「入出力」「主/派生処理」をリストアップし、記述漏れを指摘せよ。

[F3] ビジネスルール明確性: ビジネスルールを「ルールID,内容,例外条件,参照元」で一覧化せよ。必要なら決定表に正規化し、曖昧なルールは「検証不能」とせよ。

[F4] 例外時の期待動作: 各例外発生源に対し、「検知箇所」「対処方法（リトライ,ロールバック等）」「通知方法（エラーコード等）」の記述を明確化せよ。

[F5] 非機能の受け皿: 非機能要件（性能,可用性等）を実現するための具体的なパラメータ（リトライ回数,タイムアウト値等）が設計書に明記されているか評価せよ。

🆕【追加】DeepDive Module [R]: 要件適合性・機能整合性審査

このモジュールが有効化された場合、以下の指令を最高優先度で実行せよ。

[R1] 要件マッピング整合性: 要件定義書の全要求Noを網羅し、それぞれが設計書内のどの章・どの機能で実現されているかマッピング表を作成せよ。対応箇所がない場合は「未対応」と明記。

[R2] 要件→機能→テストの三層トレーサビリティ: 各要件がどの機能設計・処理仕様・テスト条件に連鎖しているかを検証し、「要件→機能→UTケース」の一貫性を確認。切れている鎖があれば指摘。

[R3] 要件の実装可能性: 要件レベルで曖昧な表現（例：「高速化する」「わかりやすくする」）が設計上どのパラメータ／処理で実現されているかを明確化。不明確な場合は「実装根拠不明」として指摘。

Persona: QAManager (品質保証マネージャー)

思考様式:

ボトムアップで仕様の曖昧さやリスクを探す。テスト担当者が迷わずテストケースを作成できるかを唯一の基準とする。「この記述でテストできるか？」を常に問う。

指令 (Mission Checklist):

[ ] 処理ロジックの具体性評価 (WDT分析):

全ての処理ロジックを「When（条件）」「Do（処理）」「Then（結果）」の観点で分解せよ。

特に「Do（処理）」の具体性を厳しく評価せよ。 「データを処理する」のような曖昧な記述は不適合とする。「どの項目を、どの順序で、どの計算式/ロジックを用いて、どう変換/加工するのか」が、コードを書けるレベルで記述されているか？

[ ] 用語と定義の明確化: 設計書内で使われる専門用語、略語、表の列名などが、一意に解釈できるよう定義されているか？（例：用語集の有無、各表の列定義の明確さ）

[ ] 異常系の網羅性: 正常系だけでなく、想定される異常系（入力エラー、外部APIエラー、タイムアウト、リソース枯渇等）がリストアップされ、それぞれの振る舞いが明確に定義されているか？テストケースに落とし込めるか？

DeepDive Module [T]: テスト設計可能性審査

/* このモジュールが有効化された場合、以下の追加指令を最高優先度で実行せよ */

[T1] 因子表（条件×値）: 各機能のテスト条件（因子）と、その値（水準）を一覧化せよ（同値、境界値、制約等）。

[T2] 決定表の網羅性: ビジネスルールを決定表に変換し、ルールの矛盾や到達不能なルールを指摘せよ。

[T3] 組合せ戦略: 複雑な機能に対し、適切な組合せテスト戦略（ペアワイズ法等）を提案し、テストケース数を見積もれ。

[T4] 状態モデル: 状態を持つ機能の状態遷移図/表を作成し、「状態,イベント,ガード条件,アクション,例外遷移」を網羅せよ。

[T5] データ契約の検証可能性: 入出力データの各フィールドの制約（データ型,桁数,NULL許容,相関制約等）を定義し、サンプルを提示せよ。

[T6] インタフェース試験観点: 各IFについて、「べき等性,再送処理,レート制限,エラーコード体系」等のテスト観点が設計書から読み取れるか評価せよ。

[T7] テスト不能箇所: 現状の設計書でテスト設計が困難な箇所を特定し、最低限必要な「補足情報リスト」を提示せよ。

DeepDive Module [TX]: 要件由来テスト因子・組合せ整合性

このモジュールが有効化された場合、以下の指令を最高優先度で実行せよ。

[TX1] 要件由来因子抽出: 要件定義の各項目からテスト設計に必要な入力条件（因子）を抽出し、「要件No／因子名／値（水準）／期待結果」を表形式で整理。

[TX2] 組合せ網羅性: 抽出した因子同士の相互依存関係を分析し、ペアワイズ法または決定表ベースで網羅率を算出。カバレッジが低い場合は「未網羅因子」として指摘。

[TX3] 検証不可能因子: 設計書に記述が不足し、テスト設計上「条件×値」の設定ができない箇所を列挙し、「要件No」「因子」「不足情報」「必要補足」をリストアップ。

Persona: CSharpTechLead (C#テックリード)

思考様式:

実装者の視点で設計書を読む。クリーンなコードが書けるか、パフォーマンスは出るか、.NETのベストプラクティスに沿っているかを重視する。「この設計で美しいコードが書けるか？」を問う。

指令 (Mission Checklist):

[ ] 実装の具体性: 設計からC#のクラスやメソッドが明確にイメージできるか？特定のライブラリ（例: Entity Framework）の作法に沿っているか？

[ ] コード品質リスク: 設計が複雑な依存関係や低凝集なコンポーネントを生み出さないか？（SOLID原則に反していないか？）

[ ] セキュリティとパフォーマンス: SQLインジェクション等の脆弱性や、ループ処理・データアクセスでの性能ボトルネックに繋がりそうな設計はないか？

** Persona: ProjectManager (プロジェクトマネージャー)**

思考様式:

リスク、スコープ、コスト、スケジュールの観点で設計書を読む。タスク分割と工数見積もりが可能か、手戻りリスクはないかを重視する。「この設計で見積もれるか？スコープは守られているか？」を問う。

指令 (Mission Checklist):

[ ] スコープの整合性: 設計されている全ての機能は、要件定義のスコープ内に収まっているか？オーバースペック（金メッキ）な部分はないか？

[ ] 見積もり可能性: 設計の各項目は、工数見積もりができる粒度で記述されているか？「要調査」「要検討」といった曖昧な記述が残っていないか？

[ ]  要求仕様との一致: 設計内容がルールブックで定義された要求や制約から逸脱していないか？

Persona: LanguageQualityReviewer (記述品質レビュアー)

思考様式:

文章の正確性・統一性・完全性を最優先に考える。 設計書を「人間およびAIが誤読せず、実装・テストに利用できる日本語仕様書」であるかを検証する。 特に誤字・脱字・文法破綻・表記揺れ・異言語混入を厳密に検出し、文脈的に正しい修正案を提示する。

指令 (Mission Checklist):

[ ] 記述品質チェック（誤字・脱字・用語混在検知）

設計書全体のテキストを解析し、以下のエラーを検出・分類せよ。

各検出結果は「箇所・原文・誤り分類・改善案・信頼度(0~1)」で表にまとめること。

単純誤字／漏字:

既知単語に類似するが1〜3文字異なる語（例：「プライン」→「プラグイン」）。

編集距離 ≤3 または音素一致率 ≥0.8 の語を「誤字疑い」として抽出。

動詞欠落・文末欠損:

「〜に」「〜を」「〜へ」などで終わる文を検出し、句末に動詞が存在しない場合、「意味破綻」として報告。

混在文字（異言語混入）:

日本語文中に中国語（例：「累计」）、技術用語以外の英語、半角カナ・全角英数字などが混在している箇所を検出。

文法破綻・助詞誤用:

不自然な助詞連結（例：「をを」）、述語が欠けている文などを「構文不整合」として報告。

用語不一致:

同一概念が複数の表記で出現している場合（例：「Excel／EXCEL／エクセル」）を確認し、正規表記案を提示。

** DeepDive Module [L]: 言語品質・可読性審査**

**[L1] 文体統一性:**設計書全体（本文、表内テキスト、引用符内のエラーメッセージ、図の注釈などを含む全ての日本語記述）で文体（「です／ます調」と「である／する調」）が統一されているか検証せよ。技術仕様書として「である／する調」への統一を原則とする。

[L2] 句読点・助詞チェック: 「、」の過剰／欠落、「は／が」「を／に」など助詞誤用を検出し、自然な修正案を提示せよ。

[L3] 技術用語の正規化: 業界標準表記（例：Excel、JSON、GCS、リポジトリ、トランゼクション）に準拠しているかを確認せよ。異表記を一覧化し、統一案を提示する。

[L4] 日本語以外の混在: 英語・中国語・半角カナなど異言語が混在している箇所を自動検出し、統一表記案を提示せよ。コード例・変数名などは例外とする。

===================================================

【4】出力形式 (Output Format)

===================================================

形式: 他のAIプラットフォームでも利用可能な、以下の指定されたモードに応じたテキストベースのテーブル形式で出力すること。

原則: ** 第１部 LanguageQualityReviewer (記述品質レビュアー)以外、各ペルソナの指令（Mission Checklist）項目を「要求内容」のベースとし、具体的な指摘事項を記述すること。

A) REVIEW_MODE: "InitialReview" (初回審査) の場合

【第1部：ペルソナ別レビュー結果】

| 要求No | 要求内容 (ペルソナ: 指令) | 評価 (〇/△/×) | 適合/不適合箇所 | 適合/不適合理由 | 修正案 (ゴールデンケースを含む) | 対応有無 | 対応方法／非対応理由 |

|:---|:---|:---|:---|:---|:---|:---|:---|

| SA-1 | SystemArchitect: 論理トレーサビリティ | △ | 3.1章 機能A | 要件定義書No.123から詳細設計への展開が追跡できない。中分類の設計が欠落している。 | (修正案を具体的に記述) | | |

| QA-1 | QAManager: WDT分析-「Do」の具体性 | × | 4.2.1 データ加工処理 | 処理内容が「マスタを参照して補正」としか書かれておらず、具体的な補正ロジックが不明。 |

【第2部：LanguageQualityReviewer (記述品質レビュアー)のレビュー結果】

| 箇所| 原文| 誤り分類| 改善案| 信頼度(0~1)| |:---|:---|:---|:---|:---| | 1.1章 p.5 | (原文テキスト) | (例: 用語不一致) | (例: 改善案テキスト) | 0.9 | | 2.3章 p.10 | (原文テキスト) | (例: 誤字疑い) | (例: 改善案テキスト) | 0.8 | | (以降、言語品質の指摘が続く) | | | | |

B) REVIEW_MODE: "DeltaCheck" (変更検証・複審) の場合

【最重要】 REVIEW_RESPONSE_SHEET (AI评审的修改方案文档) の各指摘事項に対する検証結果のみを、初回レビューと同一のフォーマットで、以下のマッピングルールに従って出力します。

【出力マッピングルール】

| 要求No |: REVIEW_RESPONSE_SHEET から 指摘No (または 要求No) を転記します。

| 要求内容 |: REVIEW_RESPONSE_SHEET から 要求内容 を転記します。

| 評価 (〇/△/×) |:

判定結果が OK の場合 → 〇

判定結果が NG の場合 → ×

判定結果が Partial の場合 → △

| 適合/不適合箇所 |: REVIEW_RESPONSE_SHEET から 箇所 を転記します。

| 適合/不適合理由 |: [AIによる検証コメントを記述]

〇 (対応済) の場合: 「対応方法 に基づき、v2設計書で修正が実行されたことを確認。」

〇 (非対応OK) の場合: 「非対応理由（例：顧客からの要求、業務規定、BL合意）が合理的かつ受諾可能であるため、v2設計書で変更がないことを確認。検証済とする。」

× (未対応) の場合: 「対応方法 に記載の修正が、v2設計書で実行されていない。未対応。」

△ (不十分) の場合: 「修正が不十分。（例：関連箇所の修正漏れあり）」

△ (非対応NG) の場合: 「非対応理由（例：後続タスクで対応）が客観的根拠に欠け、不十分である。リスクとして残存。」

| 修正案 (ゴールデンケースを含む) |:

〇 の場合: (検証済)

× or △ の場合: (v2設計書に対し、REVIEW_RESPONSE_SHEETの対応方法を再実行してください)

| 対応有無 |: REVIEW_RESPONSE_SHEET から 対応有無 を転記します。

| 対応方法／非対応理由 |: REVIEW_RESPONSE_SHEET から 対応方法／非対応理由 を転記します。

【変更検証・複審（DeltaCheck）レビュー結果】

| 要求No | 要求内容 (ペルソナ: 指令) | 評価 (〇/△/×) | 適合/不適合箇所 | 適合/不適合理由 | 修正案 (ゴールデンケースを含む) | 対応有無 | 対応方法／非対応理由 | |:---|:---|:---|:---|:---|:---|:---|:---| | QA-1 | QAManager: WDT分析-「Do」の具体性 | 〇 | 4.2.1 データ加工処理 | 「対応方法」に基づき、v2設計書 (4.2.1章) にて1〜3の番号付き処理ロジックが追加されたことを確認。 | (検証済) | 対応済 | 処理手順を番号付きで具体化する | | SA-1 | SystemArchitect: 論理トレーサビリティ | × | 3.1章 機能A | 「対応方法」に記載の「中分類の設計」が、v2設計書で実行されていない。未対応。 | (v2設計書に対し、REVIEW_RESPONSE_SHEETの対応方法を再実行してください) | 対応済 | 3.1.2章として中分類の設計を追加する | | PM-1 | ProjectManager: スコープの整合性 | △ | 5.5章, 2.1章 | 修正が不十分。5.5章は削除されているが、関連する2.1章「機能一覧」に「高度な検索」の記述が残存。 | (v2設計書に対し、REVIEW_RESPONSE_SHEETの対応方法を再実行してください) | 対応済 | 5.5章「高度な検索機能」を削除する | | QA-2 | QAManager: 異常系の網羅性 | 〇 | (該当箇所) | 非対応理由（BLとの合意）が妥当であるため、v2設計書で変更がないことを確認。検証済とする。 | (検証済) | 非対応 | 理由：BLとの合意により次期フェーズ対応とする。 | | QA-3 | QAManager: WDT分析 | △ | (該当箇所) | 非対応理由（後続タスクで対応）が不十分。設計上のリスクが残存するため、再検討が必要。 | (v2設計書に対し、REVIEW_RESPONSE_SHEETの対応方法を再実行してください) | 非対応 | 理由：後続タスクで対応。 | | (以降、対応表の全項目の検証結果が続く) | | | | | | | |



# PDF Content (Markdown format):


================================================================================
ドキュメント: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_AI審査_一回_V1.pdf (PDF 1)
ファイル名: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_AI審査_一回_V1.pdf
================================================================================

要求No

要求内容 (ペルソナ: 指令)

評価 (〇/△/×) 適合/不適合箇所

適合/不適合理由

修正案 (ゴールデンケースを含む)

対応有無

対応方法／非対応理由

REQ-001

0.4 非機能要件のテスト可能性（T4）: 性能（レスポンスタイム）、セキュリティ（権
限、アクセス制御）、ユーザビリティ（画面表示崩れ）、可用性（障害・復旧）といっ
た非機能要件が、テスト可能な形で観測可能になっているか。

△

システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 「■テスト観点」 > 「・性能テスト」

性能テストについて「メモリコスト低くて、性能テストをしません」と記載があり、実施しない判断は明記されて
いるが、性能要件そのものや、大量データ投入時の挙動（例：多数のPDFファイルを同時にアップロードした
場合など）についての考慮が不足している。セキュリティや可用性に関する観点も記載がない。

性能テストを実施しない理由として「メモリコストが低い」は妥当かもしれないが、将来的なデータ量
増加を考慮し、最低限のスループット（例：単位時間あたりに処理可能なファイル数）に関する目標
値だけでも定義することが望ましい。
また、テスト対象外とする非機能要件（セキュリティ、可用性など）を明確に記載すること。

非対応

性能に関する主要な検証（例：コンポーネント単位のレスポンスタイム、メモリ効率）は、単体テスト
（UT）フェーズにおいて実施済みである。STのスコープは、機能要件の充足とUTでカバーされなかっ
た結合部分の検証に限定されており、STでの大規模な性能検証はスコープ外と判断する。

REQ-002

1.1 各テストケース（または業務シナリオ）において、「①前提条件」「②操作手順」
「③期待結果」が具体的に記述され、因果関係が明確であるか。また、その前提
条件が、要件定義書や外部設計書に記載された制約や仕様に基づいているか。

△

システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 「■テスト項目」 > Case01 > No.1-6

期待結果として「※シート「出力ファイル明細_Output」のCase01のように」と外部シートへの参照のみが記
載されており、仕様書本体に具体的な確認内容が記述されていない。これにより、仕様書の自己完結性が
低く、第三者が期待結果を把握しにくい。

期待結果の主要な確認ポイント（例：ParquetファイルにPDFのパス情報が特定のカラムに格納され
ていること、レコード数が1件であることなど）を仕様書本体にも記載すること。「詳細は別紙『出力
ファイル明細_Output』を参照」という形が望ましい。

非対応

AIの指摘（1.1）は、UT/ITレベルの詳細なテストケースを前提とした基準である。本仕様書は**ST（シ
ステムテスト）**であり、「シナリオ」（Case01〜04）ベースでの検証を主眼としている。

STの粒度において、期待結果の詳細を『出力ファイル明細_Output』で一元管理する方式は、シナリ
オ全体の検証効率とメンテナンス性（二重管理の防止）の観点から妥当な判断である。

REQ-003

2.11 文体（「です・ます」体と「である」体）が統一されている

×

システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 全体

文書全体で文体が統一されていない。「テスト概要」では説明的な文章、「テスト項目」の期待結果では「〜
こと」調が使われている。また、「ケース1にで、仕様を書くべき...」のようなメモ書きと思われる口語的な表現
が残っている。

文書全体で文体を「である」体または「です・ます」体に統一すること。特に、仕様書としての客観性
を保つため、「〜である」「〜こと」で統一することが望ましい。メモ書きは正式なドキュメントからは削
除すること。

対応

AIの指摘に基づき、ドキュメントの品質を向上させるため、以下の修正を実施する。
1. 文書内に残存している「ケース1にで、仕様を書くべき...」等のメモ書きをすべて削除する。
2. 文書全体の文体を「である」体、または期待結果の「〜こと」調に統一する。

REQ-004

4.6 異常時ログ・エラー出力の検証: エラー発生時のログ出力／エラーメッセージ
が仕様通りに記録・表示されるか

〇

システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 「■シナリオ」 > Case03, Case04

異常系のテストケース（Case03: 0バイトファイル、Case04: パス長超過）において、期待されるW/Fの終了ス
テータス（異常終了、警告終了）やエラーコード（243, 120）、CloudLoggingに出力されるべきエラーメッセージ
が具体的に定義されており、異常系の検証観点が明確である。

REQ-005

4.7 テストの実行方法の明示: 各テストが手動実行か、自動化されたテストコード
による実行かが明確に区別・記述されているか

REQ-006

5.2 テスト観点の網羅性: 正常系／異常系・例外系／境界値がバランスよく含ま
れているか

△

〇

システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 「■テスト項目」
システムテスト仕様書_f013カタログ部品データ作成_累積作
成_サブグループ別部品情報リストPDFファイルレコード生
成_ケース_V1.pdf, 「■シナリオ」

テスト手順の起点となる「PDFファイルがGCSバケットにアップロード」が手動か自動（スクリプト等）か明記さ
れていない。その後のワークフローは自動で実行されると推測できるが、テスト全体の実行方法が不明確
である。

テスト手順の各ステップについて、手動操作か自動実行かを明記すること。例えば、「手順1（手動）：
テスト担当者が指定のPDFファイルをGCSにアップロードする」「手順2（自動）：アップロードをトリ
ガーにArgo Workflowが起動する」のように記述する。

正常系（Case01, Case02）に加え、入力データ異常として0バイトファイル（Case03）やファイルパス長超過
（Case04）といった複数の異常系シナリオが定義されており、テスト観点の網羅性が高い。

非対応

非対応

非対応

本テストの対象は「GCSへのアップロード（トリガー）以降のArgo Workflow自動実行」の検証である。ト
リガーとなるファイル配置が手動であることはテスト担当者にとって自明であり、実行に支障はないた
め影響は軽微と判断する。





================================================================================
ドキュメント: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_エビデンス_V1.pdf (PDF 2)
ファイル名: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_エビデンス_V1.pdf
================================================================================

■エビデンス

№
Case01

プロジェクトNo

B145

プロジェクト名
累積作成_サブグループ別部品情報リストPDFファ
イルレコード生成

※　テスト結果を詳細に記載出来ない　または　ハードコピーなどが
　ある場合はシートを追加し、資料列にシート名を記載します。

運用または要件・機能

　期待される結果

実施結果

１回目

判定

実施日

担当

判定

２回目
実施日

担当

【データ準備】
　シート「PDFデータ_Input」：
　　・Case01
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case01

PDF ファイルをGCSバケットにアップロード
　※「PDF データ_Input」シートのCase01

Pub/Subトピックに通知が送信、W/Fが起動

パラメータYAML作成

　パラメータYAMLファイル

　YAMLファイルの内容

1-1

1-2

パラメータYaml「parameter_01M0013P001006.yml」が作成されること

パラメータYaml「parameter_01M0013P001006.yml」が作成されること

parameter_01M0013P001006.yml
　※シート「出力ファイル明細_Output」のCase01

lineage_group_info:

  lineage_group_id: "01M0013P001"

parameter_01M0013P001006.yml
　※シート「出力ファイル明細_Output」のCase01

lineage_group_info:

  lineage_group_id: "01M0013P001"

OK

OK

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

  ......

  lineage_subgroup_summary:

    lineage_subgroup_id: "007"

    lineage_summary:

      ......

      error_handling_div: "0"

      ......

lineage_subgroup_info:

      ......

lineage_info:

  - lineage_id: "130022"

  ......

macro_variable:

  ......

setting_info:

  ......

event_info:

  ......

  lineage_subgroup_summary:

    lineage_subgroup_id: "007"

    lineage_summary:

      ......

      error_handling_div: "0"

      ......

lineage_subgroup_info:

      ......

lineage_info:

  - lineage_id: "130022"

  ......

macro_variable:

  ......

setting_info:

  ......

event_info:

転記仕様YAMLが作成

　転記仕様YAMLファイル

　YAMLファイルの内容

1-3

1-4

転記仕様YAML「transform_spec_130022.ym」が作成されること

転記仕様YAML「transform_spec_130022.ym」が作成されること

transform_spec_130022.yml
　※シート「出力ファイル明細_Output」のCase01

transform_spec_130022.yml
　※シート「出力ファイル明細_Output」のCase01

OK

OK

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

input_file:

  ......

output_file:

  ......

inout_file:

  ......

variable_value_file:

  ......

transform:

  ......

input_file:

  ......

output_file:

  ......

inout_file:

  ......

variable_value_file:

  ......

transform:

  ......

executeinfo:

  ......

executeinfo:

  ......

  errorhandling: 'terminate'

  errorhandling: 'terminate'

loginfo:

  ......

loginfo:

  ......

累積データ作成

　累積Parquetファイル

　Parquetファイルの内容

累積Parquetが作成されること
　※ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

累積Parquetが作成されること
　※ファイル名称：
catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

　f013・サブグループ別部品情報リストPDFフルパス

PDFファイルのGCSパス情報

artifactの途中ファイルを削除する

　パラメータYAMLファイル

　転記仕様YAMLファイル

「parameter_01M0013P001006.yml」は削除されました。

「parameter_01M0013P001006.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

W/F実行結果

成功（正常完了）

成功（正常完了）

1-5

1-6

1-7

1-8

1-9

OK

OK

OK

OK

OK

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

CloudLoggingの出力情報を確認

1-10

　途中情報

　 PDF 読み取り件数

　 Parquet出力件数

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase01

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase01

OK

2025/11/3

TH.薛宸

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

1-11

　実行結果

「累積処理が正常完了しました。」が出力されること

「累積処理が正常完了しました。」が出力されること

OK

2025/11/3

TH.薛宸

Case02

2-1

2-2

2-3

2-4

2-5

【データ準備】
　シート「PDFデータ_Input」：
　　・Case01
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case01

PDF ファイルをGCSバケットにアップロード
　※「PDF データ_Input」シートのCase01

Pub/Subトピックに通知が送信、W/Fが起動

累積データ作成

　累積Parquetファイル

　Parquetファイルの内容

累積Parquetが作成されること
　※ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

累積Parquetが作成されること
　※ファイル名称：
catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
　※シート「出力ファイル明細_Output」のCase01

　f013・サブグループ別部品情報リストPDFフルパス

PDFファイルのGCSパス情報

artifactの途中ファイルを削除する

　パラメータYAMLファイル

　転記仕様YAMLファイル

「parameter_01M0013P001006.yml」は削除されました。

「parameter_01M0013P001006.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

W/F実行結果

成功（正常完了）

成功（正常完了）

OK

OK

OK

OK

OK

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

CloudLoggingの出力情報を確認

2-6

　途中情報

　 PDF 読み取り件数

　 Parquet出力件数

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase02

・テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase02

OK

2025/11/3

TH.薛宸

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

「1」件が出力されること

2-7

　実行結果

「累積処理が正常完了しました。」が出力されること

「累積処理が正常完了しました。」が出力されること

OK

2025/11/3

TH.薛宸

Case03

3-1

3-2

3-3

3-4

3-5

3-6

3-7

Case04

4-1

4-2

4-3

4-4

4-5

【データ準備】
　シート「PDF データ_Input」：
　　・Case03
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case03

PDF ファイルをGCSバケットにアップロード
　※「PDF データ_Input」シートのCase03

Pub/Subトピックに通知が送信、W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積データ作成

　累積Parquetファイル

artifactの途中ファイルを削除する

　パラメータYAMLファイル

　転記仕様YAMLファイル

累積Parquetファイルが作成されないこと

累積Parquetファイルが作成されないこと

「parameter_01M0013P001006.yml」は削除されました。

「parameter_01M0013P001006.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

W/F実行結果

失敗（異常終了）

失敗（異常終了）

CloudLoggingの出力情報を確認

　途中情報

 エラーレコード情報

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase03

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase03

エラーレコード情報：対象データファイル「gs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_illustparts_20250101_v
er0001.pdf」が0バイトで、累積処理を実行できません。

エラーレコード情報：対象データファイル「gs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_illustpar
ts_20250101_ver0001.pdf」が0バイトで、累積処理を実行できません。

　実行結果

「累積処理が異常終了しました。エラー：243」が出力されること

「累積処理が異常終了しました。エラー：243」が出力されること

【データ準備】
　シート「PDF データ_Input」：
　　・Case04
　シート「DB設定_Refer」：
　　・全Case汎用
　　・Case04

PDF ファイルをGCSバケットにアップロード
　※「PDF データ_Input」シートのCase04

Pub/Subトピックに通知が送信、W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積データ作成

　累積Parquetファイル

　Parquetファイルの内容

artifactの途中ファイルを削除する

　パラメータYAMLファイル

　転記仕様YAMLファイル

累積Parquetが作成されること
　※ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

累積Parquetが作成されること
　※ファイル名称：
catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

空Parquetファイルを作成する。

空Parquetファイルを作成する。

「parameter_01M0013P001006.yml」は削除されました。

「parameter_01M0013P001006.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

「transform_spec_130022.yml」は削除されました。

W/F実行結果

失敗（警告終了）

失敗（警告終了）

OK

OK

OK

OK

OK

OK

OK

OK

OK

OK

OK

OK

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

2025/11/3

TH.薛宸

CloudLoggingの出力情報を確認

4-6

　途中情報

　PDF 読み取り件数

　Parquet出力件数

4-7

 エラーレコード情報

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase04

テーブル「データリネージ実行ログ（data_lineage_execute_log）」
　※シート「データリネージ実行ログ_Output」のCase04

OK

2025/11/3

TH.薛宸

「0」件が出力されること

「0」件が出力されること

「0」件が出力されること

「0」件が出力されること

エラーレコード情報：Parquetファイルgs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11
_11.110_ac_20250101_ver0001.parquet 」内容「gs://b144-cloud-storage-
shang/F013/PartsList/xxxxxx/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/.../202501/f013_f0002_035130_FDA60_EH4_B21S003_11_11.110_i
llustparts_20250101_ver0001.pdf」は定義最大長さ「512」を超えています。

エラーレコード情報：Parquetファイルgs://b144-cloud-storage-
shang/CatalogParts/f013/WebEpc/035103/Ac/20250101/FDA60/catalog_parts_info_illust_pdf_035130_FDA60_E
H4_B21S003_11_11.110_ac_20250101_ver0001.parquet 」内容「gs://b144-cloud-storage-
shang/F013/PartsList/xxxxxx/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/.../202501/f013_f0002_035130_FD
A60_EH4_B21S003_11_11.110_illustparts_20250101_ver0001.pdf」は定義最大長さ「512」を超えています。

OK

2025/11/3

TH.薛宸

4-8

　実行結果

「累積処理が警告終了しました。エラー：120」が出力されること

「累積処理が警告終了しました。エラー：120」が出力されること

OK

2025/11/3

TH.薛宸





================================================================================
ドキュメント: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_ケース_V1.pdf (PDF 3)
ファイル名: システムテスト仕様書_f013カタログ部品データ作成_累積作成_サブグループ別部品情報リストPDFファイルレコード生成_ケース_V1.pdf
================================================================================

プロジェクトNo

B145

■システムテスト方針、テスト概要

■テスト概要

プロジェクト名

累積作成_サブグループ別部品情報リストPDFファイルレコード生成

実施者１

実施者２

実施者３

カタログ部品データ作成業務において、指定GCS領域へ日常のサブグループ別部品リスト・イラストPDFファイルがアップロードされると、ワークフローが自動的に起動し、累積Parquetファイルを生成する。
★  本ワークフロー構成の各要素は、既にテスト済みの「Excel累積処理」と同じで、PDF処理のブラグインを注目でケースを作って実施する。

・サブグループ別部品リスト・イラストPDFファイルの累積処理（f013-subgrp-parts-list-pdf-record-gen.dll の処理）

動作イメージ:

GCS指定バケットにPDFファイルがアップロードされると、Pub/Subトピックで通知し、累積データ作成ワークフローを起動する。
以下の一連の処理により、PDFファイルの累積Parquetファイルが作成される。

・パラメータYAMLファイルの作成
・転記仕様YAMLファイルの作成
・サブグループ別部品情報リストPDFファイルレコード生成の累積処理
・GCSオブジェクトの削除
・Cloud Loggingへのログ出力

テスト対象：

exe：

・workflow-parameter-yaml-generator.exe
・transform-yaml-generator.exe
・acumulate-file-loader.exe
・gcs-object-remover.exe

dll：

パラメータyaml作成ツール
転記仕様yaml作成ツール
累積作成ツール
GCSファイル削除ツール

・f013-subgrp-parts-list-pdf-record-gen.dll

累積作成_サブグループ別部品情報リストPDFファイルレコード生成

yaml：

・workflow_01M0013P001006.yaml

Argo WorkFlow定義ファイル

テスト環境：

Rancher Desktop（1.19.3）
GCS（Google Cloud Storage）
Argo System（v1alpha1）
MySQL 8.0

■テスト観点

本システムテストでは、運用の観点でケースを設計する。

・正常系

業務運用：日常のファイルのアップロード処理が問題なく行えることを保証する

PDFファイルがアップロードされた場合、ワークフローは設定どおり動作し、累積Parquetファイルが作成されること。
累積処理の所要時間が業務許容範囲内であること。

・異常系

＞　入力データ異常系　（業務運用：不正データによる業務停止や誤集計を防ぐ）

入力データファイルの不備の場合、ワークフローの動作結果、警告終了か、エラー終了かの動作確認

入力PDFファイルの不備の場合、リネージ設定に基づき、処理が適切に停止または継続し、結果および原因がログに出力されること。
ログが運用担当者にとって判読可能であり、障害対応に必要な情報を含むこと。

・性能テスト

PDFファイル名から指定マクロ変数の値を取得するだけで、メモリコスト低くて、性能テストをしません

■シナリオ

・正常系

業務運用：日常のデータアップロード業務が問題なく行えることを保証する

Case01：PDFのファイルパスおよびファイル名がすべて規則に準拠しており、正常完了

テスト前提：

・ファイルパスおよびファイル名が規格に準拠しているサブグループ別部品リスト・イラストPDFファイル

・「データリネージプロセス管理」テーブル：

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

terminate
f013-subgrp-parts-list-pdf-record-gen.dll

実施＆確認内容：

PDFファイルがGCS指定バケットにアップロードし、PDF累積Parquetが作成されることを確認する
※初回のテストなので、各リネージの出力結果も一回確認します。

・途中Yamlファイルが作成されること
・PDF累積Parquetが作成されること
・GCSオブジェクトの途中ファイルが削除されること
・W/F実行結果： 成功（正常完了）
・CloudLoggingに処理情報が出力されること

Case02：破損した PDF ファイルの場合、Parquet を出力し、正常完了

テスト前提：

・破損した PDF ファイルを準備

・「データリネージプロセス管理」テーブル：

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

terminate
f013-subgrp-parts-list-pdf-record-gen.dll

実施＆確認内容：

PDFファイルがGCS指定バケットにアップロードし、PDF累積Parquetが作成されることを確認する
※初回のテストなので、各リネージの出力結果も一回確認します。

・PDF累積Parquetが作成されること
・W/F実行結果： 成功（正常完了）
・CloudLoggingに処理情報が出力されること

・異常系

入力データ異常　（業務運用：不正データによる業務停止や誤集計を防ぐ）

Case03：0バイトのPDF ファイルの場合、errorhandling = skip 時は Parquet を出力せず、異常終了とする

テスト前提：

・0バイトした PDF ファイルを準備

・「データリネージプロセス管理」テーブル

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

skip
f013-subgrp-parts-list-pdf-record-gen.dll

実施＆確認内容：

PDFファイルがGCS指定バケットにアップロードし、PDF累積Parquetが作成されることを確認する

・累積Parquetファイルが作成されないこと
・W/F実行結果：失敗（異常終了：243）
・CloudLoggingに処理情報が出力されること

Case04：PDF のフルパスが 512 桁を超過している場合、errorhandling = resume 時は0件レコードのParquetを出力して警告終了とする

テスト前提：

・フルパス（ディレクトリ＋ファイル名）が 512 桁を超過するPDFで準備

・「データリネージプロセス管理」テーブル

・errorhandling（エラーハンドリング区分）
・extend_function_info_1（拡張機能情報1）

resume
f013-subgrp-parts-list-pdf-record-gen.dll

実施＆確認内容：

PDFファイルがGCS指定バケットにアップロードし、PDF累積Parquetが作成されることを確認する

・空の累積Parquetファイルが作成されること
・W/F実行結果：失敗（警告終了：120）
・CloudLoggingに処理情報が出力されること

■テスト項目

確認ポイントの仕様イメージを書く

使用機能

確認内容

実施日1 結果1

資料1

実施日2 結果2

資料2

ケース1にで、仕様を書くべき、確認内容のポイントはエビデンスに記載して、関係を明確し、読みやすくする

№

Case01

テスト手順
【データ準備】
 シート「PDFデータ_Input」：
　　・Case01
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case01

PDFファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

1-1

1-2

1-3

1-4

1-5

1-6

1-7

1-8

パラメータYAMLが作成されることを確認する

パラメータYAML作成ツール

　パラメータYAMLファイル

　YAMLファイルの内容

転記仕様YAMLが作成されることを確認する

転記仕様YAML作成ツール

　転記仕様YAMLファイル

　YAMLファイルの内容

累積Parquetファイルが作成されることを確認する

累積データ作成ツール

パラメータYAMLが作成されること
・ファイル名称：parameter_01M0013P001006.yml

・parameter_01M0013P001006.yml
※シート「出力ファイル明細_Output」のCase01のように

転記仕様YAMLが作成されること
・ファイル名称：transform_spec_130022.yml

・transform_spec_130022.yml
※シート「出力ファイル明細_Output」のCase01のように

　累積Parquetファイル

　Parquetファイルの内容

累積Parquetが作成されること
・ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

・catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
※シート「出力ファイル明細_Output」のCase01のように

　　f013・サブグループ別部品情報リストPDFフルパス

PDFファイルのGCSパス情報

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

　パラメータYAMLファイル

　転記仕様YAMLファイル

W/F実行結果を確認する

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

1-9

　W/F実行結果

成功（正常完了）

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

「累積処理が正常完了しました。」が出力されること

CloudLoggingが出力されることを確認する

1-10

1-11

　途中情報

　実行結果

Case02

【データ準備】
 シート「PDFデータ_Input」：
　　・Case02
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case02

PDFファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積Parquetファイルが作成されることを確認する

累積データ作成ツール

　累積Parquetファイル

　Parquetファイルの内容

累積Parquetが作成されること
・ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

・catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet
※シート「出力ファイル明細_Output」のCase02のように

　　f013・サブグループ別部品情報リストPDFフルパス

PDFファイルのGCSパス情報

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

　パラメータYAMLファイル

　転記仕様YAMLファイル

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

2-1

2-2

2-3

2-4

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3

OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

W/F実行結果を確認する

2-5

　W/F実行結果

成功（正常完了）

CloudLoggingが出力されることを確認する

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

「累積処理が正常完了しました。」が出力されること

2-6

2-7

　途中情報

　実行結果

Case03

【データ準備】
 シート「PDFデータ_Input」：
　　・Case03
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case03

PDFファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

2025/11/3 OK

TH.薛宸

2025/11/3

OK

TH.薛宸

2025/11/3 OK

TH.薛宸

累積Parquetファイルが作成されないことを確認する

累積データ作成ツール

3-1

　累積Parquetファイル

累積Parquetが作成されないこと

2025/11/3 OK

TH.薛宸

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

失敗（異常終了）

2025/11/3 OK

TH.薛宸

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

エラー情報が出力されること

「累積処理が異常終了しました。」が出力されること

2025/11/3

OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

3-2

3-3

　パラメータYAMLファイル

　転記仕様YAMLファイル

W/F実行結果を確認する

3-4

　W/F実行結果

CloudLoggingが出力されることを確認する

ログ出力モジュール

3-5

3-6

3-7

　途中情報

　エラーレコード情報

　実行結果

Case04

【データ準備】
 シート「PDFデータ_Input」：
　　・Case04
 シート「DB設定_Refer」：
　　・全Case汎用
　　・Case04

PDFファイルがGCSバケットにアップロード

Pub/Subトピックに通知が送信
W/Fが起動

※途中作成の配置ファイルの確認は省略
　　・パラメータYAML
　　・転記仕様YAML

累積Parquetファイルが作成されることを確認する

累積データ作成ツール

　累積Parquetファイル

　Parquetファイルの内容

artifactの途中ファイルを削除する

GCSオブジェクト削除ツール

　パラメータYAMLファイル

　転記仕様YAMLファイル

4-1

4-2

4-3

4-4

累積Parquetが作成されること
・ファイル名称：catalog_parts_info_illust_pdf_035130_FDA60_EH4_B21S003_11_11.110_ac_20250101_ver0001.parquet

空Parquetファイルを作成する。

GCSオブジェクトが削除されること

GCSオブジェクトが削除されること

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

W/F実行結果を確認する

4-5

　W/F実行結果

失敗（警告終了）

CloudLoggingが出力されることを確認する

ログ出力モジュール

4-6

4-7

4-8

　途中情報

　エラーレコード情報

　実行結果

各処理ｓtepの開始、終了、処理対象等情報が出力されること。

エラー情報が出力されること

「累積処理が警告終了しました。」が出力されること

2025/11/3 OK

TH.薛宸

2025/11/3

OK

TH.薛宸

2025/11/3 OK

TH.薛宸

2025/11/3 OK

TH.薛宸

■テストパターン



